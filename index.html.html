<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RentMate - Peer-to-Peer Equipment Rental in Bulacan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root 
        {
            --background: #ffffff;
            --foreground: #1a1a1a;
            --primary: #030213;
            --primary-foreground: #ffffff;
            --secondary: #f3f3f5;
            --secondary-foreground: #030213;
            --muted: #ececf0;
            --muted-foreground: #717182;
            --border: rgba(0, 0, 0, 0.1);
            --input-background: #f3f3f5;
            --radius: 0.625rem;
            }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--background);
            color: var(--foreground);
            line-height: 1.6;
        }

        h1 { font-size: 2; font-weight: 600; line-height: 1.5; }
        h2 { font-size: 2; font-weight: 600; line-height: 1.5; }
        h3 { font-size: 1.25rem; font-weight: 600; line-height: 1.5; }
        h4 { font-size: 1.125rem; font-weight: 600; line-height: 1.5; }

        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        /* Button Styles */
        .btn {
            padding: 0.5rem 1rem;
            border-radius: var(--radius);
            font-weight: 500;
            cursor: pointer;
            border: none;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 1rem;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-primary {
            background: var(--primary);
            color: var(--primary-foreground);
        }

        .btn-primary:hover:not(:disabled) {
            opacity: 0.9;
        }

        .btn-secondary {
            background: var(--secondary);
            color: var(--secondary-foreground);
        }

        .btn-secondary:hover {
            background: #51607c;
        }

        .btn-ghost {
            background: transparent;
            color: var(--foreground);
        }

        .btn-ghost:hover {
            background: var(--secondary);
        }

        .btn-icon {
            padding: 0.5rem;
        }

        /* Input Styles */
        .input, .textarea, .select {
            width: 100%;
            padding: 0.5rem 0.75rem;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            background: var(--input-background);
            font-size: 1rem;
        }

        .input:focus, .textarea:focus, .select:focus {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        .textarea {
            resize: vertical;
            font-family: inherit;
        }

        /* Card Styles */
        .card {
            background: white;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            overflow: hidden;
        }

        .card:hover {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        /* Badge Styles */
        .badge {
            display: inline-flex;
            align-items: center;
            padding: 0.25rem 0.5rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
            white-space: nowrap;
        }

        .badge-primary {
            background: var(--primary);
            color: var(--primary-foreground);
        }

        .badge-secondary {
            background: var(--secondary);
            color: var(--secondary-foreground);
        }

        .badge-outline {
            border: 1px solid var(--border);
            background: transparent;
        }

        .badge-success {
            background: #10b981;
            color: white;
        }

        .badge-warning {
            background: #f59e0b;
            color: white;
        }

        /* Avatar */
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }

        /* Modal/Sheet/Dialog Overlay */
        .overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 50;
            display: none;
            animation: fadeIn 0.2s;
        }

        .overlay.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        @keyframes slideInUp {
            from { 
                transform: translate(-50%, -50%) scale(0.95);
                opacity: 0;
            }
            to { 
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
        }

        .sheet {
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            width: 100%;
            max-width: 500px;
            background: white;
            z-index: 51;
            transform: translateX(100%);
            overflow-y: auto;
        }

        .sheet.active {
            animation: slideInRight 0.3s forwards;
        }

        .dialog {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.95);
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            background: white;
            border-radius: var(--radius);
            z-index: 51;
            opacity: 0;
            overflow-y: auto;
        }

        .dialog.active {
            animation: slideInUp 0.2s forwards;
        }

        /* Page Dialog (for About, Contact, FAQ pages) */
        .page-dialog {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: white;
            z-index: 51;
            overflow-y: auto;
            transform: translateY(100%);
        }

        .page-dialog.active {
            animation: slideInUpFull 0.3s forwards;
        }

        @keyframes slideInUpFull {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }

        /* Star Rating */
        .star {
            color: #fbbf24;
            fill: currentColor;
        }

        /* Scrollbar */
        .scroll-container {
            overflow-y: auto;
            scrollbar-width: thin;
        }

        .scroll-container::-webkit-scrollbar {
            width: 6px;
        }

        .scroll-container::-webkit-scrollbar-track {
            background: transparent;
        }

        .scroll-container::-webkit-scrollbar-thumb {
            background: var(--muted);
            border-radius: 3px;
        }

        /* Toast */
        .toast {
            position: fixed;
            top: 1rem;
            right: 1rem;
            background: white;
            padding: 1rem 1.5rem;
            border-radius: var(--radius);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            z-index: 100;
            animation: slideInFromRight 0.3s;
            border-left: 4px solid var(--primary);
        }

        @keyframes slideInFromRight {
            from { transform: translateX(calc(100% + 1rem)); }
            to { transform: translateX(0); }
        }

        /* Utility Classes */
        .hidden { display: none !important; }
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .items-start { align-items: flex-start; }
        .justify-center { justify-content: center; }
        .justify-between { justify-content: space-between; }
        .gap-1 { gap: 0.25rem; }
        .gap-2 { gap: 0.5rem; }
        .gap-3 { gap: 0.75rem; }
        .gap-4 { gap: 1rem; }
        .gap-6 { gap: 1.5rem; }
        .p-2 { padding: 0.5rem; }
        .p-4 { padding: 1rem; }
        .p-6 { padding: 1.5rem; }
        .px-4 { padding-left: 1rem; padding-right: 1rem; }
        .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
        .mb-1 { margin-bottom: 0.25rem; }
        .mb-2 { margin-bottom: 0.5rem; }
        .mb-4 { margin-bottom: 1rem; }
        .mb-6 { margin-bottom: 1.5rem; }
        .mt-2 { margin-top: 0.5rem; }
        .mt-4 { margin-top: 1rem; }
        .text-sm { font-size: 0.875rem; }
        .text-xs { font-size: 0.75rem; }
        .rounded { border-radius: var(--radius); }
        .rounded-full { border-radius: 9999px; }
        .w-full { width: 100%; }
        .h-full { height: 100%; }
        .text-center { text-align: center; }
        .text-muted { color: var(--muted-foreground); }

        /* Grid */
        .grid { display: grid; }
        .grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
        .grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
        .grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }

        @media (min-width: 768px) {
            .md\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
            .md\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
        }

        @media (min-width: 1024px) {
            .lg\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
        }

        /* Animations */
        .transition { transition: all 1s; }

        /* Custom Styles */
        .equipment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: 1rem;
        }

        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .sticky-header {
            position: sticky;
            top: 0;
            z-index: 20;
            background: white;
            border-bottom: 1px solid var(--border);
        }
    </style>
</head>
<body>
    <!-- Main App Container -->
    <div id="app" style="height: 100vh; display: flex; flex-direction: column;"></div>

    <!-- SVG Icons Library -->
    <svg style="display: none;">
        <defs>
            <symbol id="icon-home" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                <polyline points="9 22 9 12 15 12 15 22"/>
            </symbol>
            <symbol id="icon-message" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
            </symbol>
            <symbol id="icon-user" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
            </symbol>
            <symbol id="icon-search" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"/>
                <path d="m21 21-4.35-4.35"/>
            </symbol>
            <symbol id="icon-shield" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
            </symbol>
            <symbol id="icon-star" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2">
                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
            </symbol>
            <symbol id="icon-calendar" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                <line x1="16" y1="2" x2="16" y2="6"/>
                <line x1="8" y1="2" x2="8" y2="6"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
            </symbol>
            <symbol id="icon-send" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="22" y1="2" x2="11" y2="13"/>
                <polygon points="22 2 15 22 11 13 2 9 22 2"/>
            </symbol>
            <symbol id="icon-x" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="6" x2="6" y2="18"/>
                <line x1="6" y1="6" x2="18" y2="18"/>
            </symbol>
            <symbol id="icon-logout" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                <polyline points="16 17 21 12 16 7"/>
                <line x1="21" y1="12" x2="9" y2="12"/>
            </symbol>
            <symbol id="icon-arrow-left" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="19" y1="12" x2="5" y2="12"/>
                <polyline points="12 19 5 12 12 5"/>
            </symbol>
            <symbol id="icon-facebook" viewBox="0 0 24 24" fill="currentColor">
                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
            </symbol>
            <symbol id="icon-instagram" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
            </symbol>
            <symbol id="icon-twitter" viewBox="0 0 24 24" fill="currentColor">
                <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
            </symbol>
            <symbol id="icon-mail" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                <polyline points="22,6 12,13 2,6"/>
            </symbol>
            <symbol id="icon-phone" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
            </symbol>
            <symbol id="icon-map-pin" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                <circle cx="12" cy="10" r="3"/>
            </symbol>
            <symbol id="icon-plus" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="5" x2="12" y2="19"/>
                <line x1="5" y1="12" x2="19" y2="12"/>
            </symbol>
            <symbol id="icon-check" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="20 6 9 17 4 12"/>
            </symbol>
            <symbol id="icon-thumbs-up" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"/>
            </symbol>
        </defs>
    </svg>

    <script>
        // ============================================
        // UTILITY FUNCTIONS
        // ============================================
        function showToast(message, duration = 3000) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), duration);
        }

        function icon(name, size = 20) {
            return `<svg width="${size}" height="${size}"><use href="#icon-${name}"/></svg>`;
        }

        function formatDate(dateString) {
            return new Date(dateString).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
        }

        function formatTime(date) {
            return new Date(date).toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });
        }

        function formatCurrency(amount) {
            return `₱${amount.toLocaleString()}`;
        }

        // ============================================
        // MOCK DATA
        // ============================================
        // Define mock users data
        // duplicate mockUsers removed to avoid redeclaration (original mockUsers is defined above)
        const mockUsers = [
            {
                id: 'user-2',
                name: 'Jodie Yambao',
                email: 'jodie@example.com',
                avatar: 'c:/Users/PCB/Downloads/566407608_705667949217377_4157098860087411138_n.jpg',
                verified: true,
                idVerified: true,
                rating: 4.9,
                reviewCount: 45,
                neighborhood: 'Meycauayan',
                role: 'lender',
                joinDate: '2023-11-20'
            },
            {
                id: 'user-3',
                name: 'Leeneth Ann',
                email: 'leeneth@example.com',
                avatar: 'c:/Users/PCB/Downloads/566466351_1317369756347948_1872204925301028421_n.jpg',
                verified: true,
                idVerified: true,
                rating: 4.7,
                reviewCount: 32,
                neighborhood: 'San Jose del Monte',
                role: 'lender',
                joinDate: '2024-02-10'
            },
            {
                id: 'user-4',
                name: 'Womark Salita',
                email: 'womark@example.com',
                avatar: 'c:/Users/PCB/Downloads/566530082_792819060293839_9146587510031156197_n.jpg',
                verified: true,
                idVerified: true,
                rating: 4.5,
                reviewCount: 12,
                neighborhood: 'Bocaue',
                role: 'renter',
                joinDate: '2024-03-05'
            },
            {
                id: 'user-5',
                name: 'Jhomar Alvarez',
                email: 'david@example.com',
                avatar: 'c:/Users/PCB/Downloads/565422786_2061936344636146_6251174287567531350_n.jpg',
                verified: true,
                idVerified: true,
                rating: 5.0,
                reviewCount: 28,
                neighborhood: 'Marilao',
                role: 'lender',
                joinDate: '2023-12-01'
            }
        ];

        const mockEquipment = [
            {
                id: 'eq-1',
                title: 'Canon EOS R5 Camera',
                category: 'Cameras',
                description: 'Professional mirrorless camera with 45MP sensor. Perfect for events, portraits, and landscapes. Includes battery and charger.',
                image: 'https://images.unsplash.com/photo-1512025316832-8658f04f8a83?w=400&q=80',
                pricePerDay: 1450,
                owner: mockUsers[0],
                rating: 4.9,
                reviewCount: 18,
                available: true,
                availableDates: ['2025-10-25', '2025-10-26', '2025-10-27', '2025-10-28'],
                rentalPolicy: 'Security deposit of ₱2,000 required. Equipment must be returned with all accessories. Renter is responsible for any damages during rental period. Late returns subject to additional charges.'
            },
            {
                id: 'eq-2',
                title: 'DeWalt Power Drill Set',
                category: 'Tools',
                description: '20V cordless drill with complete bit set. Great for home projects. Includes two batteries and carrying case.',
                image: 'https://images.unsplash.com/photo-1689935421853-cb23a0bc92e4?w=400&q=80',
                pricePerDay: 300,
                owner: mockUsers[1],
                rating: 5.0,
                reviewCount: 24,
                available: true,
                availableDates: ['2025-10-24', '2025-10-25', '2025-10-26']
            },
            {
                id: 'eq-3',
                title: 'Mountain Bike - Trek X-Caliber',
                category: 'Sports Gear',
                description: 'High-performance mountain bike. 29" wheels, hydraulic disc brakes. Perfect for trails and off-road adventures.',
                image: 'https://images.unsplash.com/photo-1506316940527-4d1c138978a0?w=400&q=80',
                pricePerDay: 1300,
                owner: mockUsers[2],
                rating: 4.8,
                reviewCount: 15,
                available: true,
                availableDates: ['2025-10-25', '2025-10-26', '2025-10-27']
            },
            {
                id: 'eq-4',
                title: '4-Person Camping Tent',
                category: 'Sports Gear',
                description: 'Spacious waterproof tent for camping trips. Easy setup, includes stakes and carrying bag.',
                image: 'https://images.unsplash.com/photo-1624923686627-514dd5e57bae?w=400&q=80',
                pricePerDay: 500,
                owner: mockUsers[3],
                rating: 4.6,
                reviewCount: 9,
                available: true,
                availableDates: ['2025-10-27', '2025-10-28', '2025-10-29']
            },
            {
                id: 'eq-5',
                title: 'Sony A7 III Camera',
                category: 'Cameras',
                description: 'Full-frame mirrorless camera. Excellent low-light performance. Comes with 28-70mm lens.',
                image: 'https://images.unsplash.com/photo-1474376700777-eb547d9bed2f?w=400&q=80',
                pricePerDay: 1700,
                owner: mockUsers[1],
                rating: 4.9,
                reviewCount: 21,
                available: false,
                availableDates: []
            },
            {
                id: 'eq-6',
                title: 'Electric Lawn Mower',
                category: 'Tools',
                description: 'Cordless electric mower with large capacity battery. Quiet operation, adjustable cutting heights.',
                image: 'https://images.unsplash.com/photo-1590820292118-e256c3ac2676?w=400&q=80',
                pricePerDay: 500,
                owner: mockUsers[0],
                rating: 4.7,
                reviewCount: 13,
                available: true,
                availableDates: ['2025-10-24', '2025-10-25']
            },
             {
                id: 'eq-7',
                title: 'Go Pro HERO10 Black',
                category: 'Cameras',
                description: 'Your Perfect vlog cameras for riding and travel, comes with holder and case.',
                image: 'https://tse4.mm.bing.net/th/id/OIP.JGBFR1le4tctSs2xjT3Q9QHaEM?pid=Api&P=0&h=220',
                pricePerDay: 1500,
                owner: mockUsers[1],
                rating: 4.8,
                reviewCount: 12,
                available: true,
                availableDates: ['2025-10-23', '2025-10-24', '2025-10-25']
            },
             {
                id: 'eq-8',
                title: 'Power Chain Saw',
                category: 'Tools',
                description: 'Operates FORCE3™ diamond chain up to 14 Requires 20 PSI pressurized water - standard garden hose connection.Polyester air filter designed specifically for wet cuttingMulti-function lever controls choke, throttle advance, run and stop modesDeep cutting solution for obstructed or small openingsCut squares as small as 4 x 4 Easy-to-start in all weather conditions',
                image: 'https://sterental.ca/500-large_default/chains-saw-for-rent-tools-rental-sooke-duncan.jpg',
                pricePerDay: 850,
                owner: mockUsers[3],
                rating: 4.8,
                reviewCount: 32,
                available: true,
                availableDates: ['2025-10-24', '2025-10-25', '2025-10-26']
            },
             {
                id: 'eq-9',
                title: 'Ultra Bee',
                category: 'Sports Gear',
                description: '⚡️ 12.5kW peak power (more than double the Light Bee X). 74V/55Ah Lithium Ion.',
                image: 'https://friendwitha.com/media/CACHE/images/sur-ron_ultra_bee_97_29.032e0c39c6d1.webp',
                pricePerDay: 2000,
                owner: mockUsers[3],
                rating: 4.9,
                reviewCount: 12,
                available: true,
                availableDates: ['2025-10-24', '2025-10-25']
            },
        ];
        

// (Removed invalid embedded HTML block here)
            
        const mockConversations = [
    {
        id: 'conv-1',
        otherUser: mockUsers[1],
        equipment: mockEquipment[1],
        lastMessage: {
            id: 'msg-2',
            text: 'DeWalt Power Drill Set for weekend?',
            timestamp: new Date('2025-10-19T15:45:00'),
            senderId: 'user-2',
            read: true
        },
        unreadCount: 0,
        messages: [
            {
                id: 'msg-2',
                text: 'DeWalt Power Drill Set for weekend?',
                timestamp: new Date('2025-10-19T15:45:00'),
                senderId: 'user-2'
            }
        ]
    },
    {
        id: 'conv-2',
        otherUser: mockUsers[2],
        equipment: mockEquipment[2],
        lastMessage: {
            id: 'msg-3',
            text: 'Is the bike still available for next weekend?',
            timestamp: new Date('2025-10-19T15:45:00'),
            senderId: 'user-3',
            read: true
        },
        unreadCount: 0,
        messages: [
            {
                id: 'msg-3',
                text: 'Is the bike still available for next weekend?',
                timestamp: new Date('2025-10-19T15:45:00'),
                senderId: 'user-3'
            }
        ]
    },
    // New conversation with 3 unread messages
    {
        id: 'conv-3',
        // Assuming mockUsers[3] and mockEquipment[3] exist for this new conversation
        otherUser: mockUsers[3], 
        equipment: mockEquipment[3], 
        lastMessage: {
            id: 'msg-6',
            text: 'Yes, 10 AM works great for me. See you then!',
            timestamp: new Date('2025-10-23T10:05:00'),
            senderId: 'user-3', // Note: senderId is 'user-3' but otherUser is mockUsers[3]
            read: false // The last message is unread
        },
        // **This is the unread count**
        unreadCount: 3, 
        messages: [
            {
                id: 'msg-4',
                text: 'How about we meet tomorrow to discuss the rental contract?',
                timestamp: new Date('2025-10-22T17:00:00'),
                senderId: 'user-4' // Assuming 'user-4' is the current user/owner
            },
            {
                id: 'msg-5',
                text: 'I can do tomorrow, is 10 AM okay for you?',
                timestamp: new Date('2025-10-23T10:00:00'),
                senderId: 'user-3' // This message is UNREAD
            },
            {
                id: 'msg-6',
                text: '10 AM works great for me. Its seem you are busy right now, i need to confirm booking asap',
                timestamp: new Date('2025-10-23T10:05:00'),
                senderId: 'user-4' // This message is UNREAD
            }
        ]
    }
];

        const mockReviews = [
            {
                id: 'rev-1',
                equipmentId: 'eq-1',
                reviewerName: 'Xian Graza',
                reviewerAvatar: 'https://cdn.kami.com.ph/images/1120/9f372fbad7ba6c66.jpeg?v=1',
                rating: 5,
                comment: 'Camera was in perfect condition! Jodie was very professional and flexible with pickup time.',
                date: '2025-10-15',
                helpful: 8
            },
            {
                id: 'rev-2',
                equipmentId: 'eq-1',
                reviewerName: 'Bong Go',
                reviewerAvatar: 'https://journalnews.com.ph/wp-content/uploads/2022/09/Bong-Go-17.jpg',
                rating: 5,
                comment: 'Great experience! Equipment exactly as described.',
                date: '2025-10-12',
                helpful: 5
            },
            {
                id: 'rev-3',
                equipmentId: 'eq-3',
                reviewerName: 'Manny Pacute',
                reviewerAvatar: 'https://media.philstar.com/images/articles/spo2-manny-pacquiao_2018-10-02_23-37-16.jpg',
                rating: 4,
                comment: 'Very good quality. Would rent again!',
                date: '2025-10-08',
                helpful: 3
            }
        ];

        // ============================================
        // APP STATE
        // ============================================
        let appState = {
            isAuthenticated: false,
            userRole: null,
            currentUser: null,
            currentView: 'browse',
            selectedEquipment: null,
            selectedCategory: 'All',
            searchQuery: '',
            selectedConversation: null,
            bookingEquipment: null,
            currentPage: null // For About, Contact, FAQ pages
        };

        // ============================================
        // AUTH FUNCTIONS
        // ============================================
        function handleLogin(email, password) {
            appState.isAuthenticated = true;
            appState.currentUser = {
                id: 'user-1',
                name: email.split('@')[0],
                email: email,
                avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=user1',
                verified: true,
                idVerified: true,
                rating: 4.8,
                reviewCount: 23,
                neighborhood: 'Malolos',
                joinDate: '2024-01-15'
            };
            renderApp();
            showToast('Welcome back to RentMate!');
        }

        function handleSignup(name, email, password, neighborhood) {
            appState.isAuthenticated = true;
            appState.currentUser = {
                id: 'user-1',
                name: name,
                email: email,
                avatar: 'c:/Users/PCB/Downloads/e8f5de1b-ad28-4a40-8ca6-9b29afd930e9.png',
                verified: true,
                idVerified: true,
                rating: 0,
                reviewCount: 0,
                neighborhood: neighborhood,
                joinDate: new Date().toISOString().split('T')[0]
            };
            renderApp();
            showToast(`Welcome to RentMate, ${name}!`);
        }

        function handleRoleSelection(role) {
            appState.userRole = role;
            renderApp();
            showToast(`You're all set as a ${role}!`);
        }

        function handleLogout() {
            appState = {
                isAuthenticated: false,
                userRole: null,
                currentUser: null,
                currentView: 'browse',
                selectedEquipment: null,
                selectedCategory: 'All',
                searchQuery: '',
                selectedConversation: null,
                bookingEquipment: null,
                currentPage: null
            };
            renderApp();
            showToast('Logged out successfully');
        }

        // ============================================
        // RENDER FUNCTIONS
        // ============================================
        
        function renderAuthView() {
            return `
                <div style="min-height: 100vh; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 1rem;">
                    <div class="card" style="width: 100%; max-width: 420px; padding: 2rem;">
                        <div class="text-center mb-6">
                            <img src="c:/Users/PCB/Downloads/==.jpg" 
                                 alt="RentMate" 
                                 style="width: 80px; height: 80px; margin: 0 auto 1rem; border-radius: 50%;">
                            <h1 class="mb-2">Welcome to RentMate</h1>
                            <p class="text-muted text-sm">Rent tools and equipment from your neighbors in Bulacan</p>
                        </div>
                        
                        <div id="authTabs">
                            <div style="display: flex; gap: 0.5rem; margin-bottom: 1.5rem; border-bottom: 2px solid var(--border);">
                                <button onclick="switchAuthTab('login')" id="loginTab" 
                                        class="btn btn-ghost" 
                                        style="flex: 1; border-bottom: 3px solid var(--primary); margin-bottom: -2px;">
                                    Login
                                </button>
                                <button onclick="switchAuthTab('signup')" id="signupTab" 
                                        class="btn btn-ghost" 
                                        style="flex: 1;">
                                    Sign Up
                                </button>
                            </div>
                            
                            <div id="loginForm">
                                <form onsubmit="event.preventDefault(); submitLogin();">
                                    <div class="mb-4">
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Email</label>
                                        <input type="email" id="loginEmail" class="input" placeholder="your@email.com" required>
                                    </div>
                                    <div class="mb-6">
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Password</label>
                                        <input type="password" id="loginPassword" class="input" placeholder="••••••••" required>
                                    </div>
                                    <button type="submit" class="btn btn-primary w-full">Login</button>
                                </form>
                            </div>
                            
                            <div id="signupForm" class="hidden">
                                <form onsubmit="event.preventDefault(); submitSignup();">
                                    <div class="mb-4">
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Full Name</label>
                                        <input type="text" id="signupName" class="input" placeholder="Juan Dela Cruz" required>
                                    </div>
                                    <div class="mb-4">
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Email</label>
                                        <input type="email" id="signupEmail" class="input" placeholder="your@email.com" required>
                                    </div>
                                    <div class="mb-4">
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Password</label>
                                        <input type="password" id="signupPassword" class="input" placeholder="••••••••" required>
                                    </div>
                                    <div class="mb-6">
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Neighborhood</label>
                                        <select id="signupNeighborhood" class="input select" required>
                                            <option value="">Select your neighborhood</option>
                                            <option value="Malolos">Malolos</option>
                                            <option value="Meycauayan">Meycauayan</option>
                                            <option value="San Jose del Monte">San Jose del Monte</option>
                                            <option value="Bocaue">Bocaue</option>
                                            <option value="Marilao">Marilao</option>
                                            <option value="Balagtas">Balagtas</option>
                                            <option value="Bustos">Bustos</option>
                                            <option value="Calumpit">Calumpit</option>
                                        </select>
                                    </div>
                                    <button type="submit" class="btn btn-primary w-full">Sign Up</button>
                                </form>
                            </div>
                        </div>

                        <div style="margin-top: 1.5rem; text-align: center; padding-top: 1.5rem; border-top: 1px solid var(--border);">
                            <p class="text-sm text-muted">By continuing, you agree to RentMate's Terms of Service and Privacy Policy</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderRoleSelection() {
            return `
                <div style="min-height: 100vh; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 1rem;">
                    <div class="card" style="width: 100%; max-width: 550px; padding: 2rem;">
                        <div class="text-center mb-6">
                            <h2 class="mb-2">How do you want to use RentMate?</h2>
                            <p class="text-muted text-sm">You can change this later in your profile settings</p>
                        </div>
                        
                        <div class="grid gap-4">
                            <button onclick="handleRoleSelection('renter')" 
                                    class="card transition" 
                                    style="padding: 1.5rem; border: 2px solid var(--border); cursor: pointer; text-align: center;"
                                    onmouseover="this.style.borderColor='var(--primary)'; this.style.transform='translateY(-2px)'"
                                    onmouseout="this.style.borderColor='var(--border)'; this.style.transform='translateY(0)'">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">🔍</div>
                                <h3 class="mb-2">I want to rent equipment</h3>
                                <p class="text-muted text-sm">Browse and rent tools, cameras, sports gear, and more from your neighbors</p>
                            </button>
                            
                            <button onclick="handleRoleSelection('lender')" 
                                    class="card transition" 
                                    style="padding: 1.5rem; border: 2px solid var(--border); cursor: pointer; text-align: center;"
                                    onmouseover="this.style.borderColor='var(--primary)'; this.style.transform='translateY(-2px)'"
                                    onmouseout="this.style.borderColor='var(--border)'; this.style.transform='translateY(0)'">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">💰</div>
                                <h3 class="mb-2">I want to lend my equipment</h3>
                                <p class="text-muted text-sm">Earn money by sharing your tools and equipment with others in your community</p>
                            </button>
                        </div>

                        <div style="margin-top: 1.5rem; padding: 1rem; background: #f0f9ff; border: 1px solid #bae6fd; border-radius: var(--radius); text-align: center;">
                            <p class="text-sm" style="color: #0c4a6e;">💡 You can switch between renter and lender modes anytime!</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderBrowseView() {
            const categories = ['All', 'Cameras', 'Tools', 'Sports Gear',];
            const filteredEquipment = mockEquipment.filter(item => {
                const matchesSearch = item.title.toLowerCase().includes(appState.searchQuery.toLowerCase()) ||
                                    item.description.toLowerCase().includes(appState.searchQuery.toLowerCase());
                const matchesCategory = appState.selectedCategory === 'All' || item.category === appState.selectedCategory;
                return matchesSearch && matchesCategory;
            });

            return `
                <div class="scroll-container" style="flex: 1; overflow-y: auto;">
                    <!-- Header -->
                    <div class="sticky-header p-4">
                        <div class="container">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <img src="c:/Users/PCB/Downloads/==.jpg" 
                                         alt="RentMate" class="avatar">
                                    <div>
                                        <h1 style="font-size: 1.25rem; margin-bottom: 0.25rem;">RentMate</h1>
                                        <div class="flex gap-2">
                                            <span class="badge badge-secondary">${appState.userRole === 'renter' ? 'Renter' : 'Lender'}</span>
                                            <span class="badge badge-outline flex items-center gap-1">
                                                ${icon('shield', 12)} ID Verified
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <button onclick="handleLogout()" class="btn btn-ghost">
                                    ${icon('logout', 18)} <span style="display: none;" class="md:inline">Logout</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Hero Section -->
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: black; padding: 3rem 1rem; text-align: center;">
                        <div class="container">
                            <h1 style="font-size: 2rem; margin-bottom: 1rem; color: white;">Rent What You Need, When You Need It</h1>
                            <p style="font-size: 1.125rem; margin-bottom: 2rem; opacity: 0.95;">Share tools and equipment with your neighbors in Bulacan</p>
                            
                            <div style="background: white; padding: 1.5rem; border-radius: var(--radius); max-width: 600px; margin: 0 auto;">
                                <div class="grid gap-3">
                                    <div style="position: relative;">
                                        <div style="position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); pointer-events: none;">
                                            ${icon('search', 20)}
                                        </div>
                                        <input type="text" 
                                               class="input" 
                                               placeholder="What are you looking for?" 
                                               style="padding-left: 2.5rem;" 
                                               value="${appState.searchQuery}"
                                               oninput="appState.searchQuery = this.value; renderApp();">
                                    </div>
                                    <div style="display: flex; gap: 0.5rem; overflow-x: auto; padding-bottom: 0.25rem;">
                                        ${categories.map(cat => `
                                            <button onclick="appState.selectedCategory = '${cat}'; renderApp();"
                                                    class="badge ${cat === appState.selectedCategory ? 'badge-primary' : 'badge-outline'}"
                                                    style="cursor: pointer; flex-shrink: 0;">
                                                ${cat}
                                            </button>
                                        `).join('')}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Equipment Grid -->
                    <div style="padding: 2rem 1rem; background: #f9fafb;">
                        <div class="container">
                            <div class="mb-6">
                                <h2 class="mb-2">Available Equipment</h2>
                                <p class="text-muted text-sm">
                                    ${filteredEquipment.length} item${filteredEquipment.length !== 1 ? 's' : ''} available for rent in Bulacan
                                </p>
                            </div>

                            ${filteredEquipment.length > 0 ? `
                                <div class="equipment-grid">
                                    ${filteredEquipment.map(eq => `
                                        <div class="card transition" 
                                             style="cursor: pointer;" 
                                             onclick="openEquipmentDetail('${eq.id}')"
                                             onmouseover="this.style.transform='translateY(-4px)'"
                                             onmouseout="this.style.transform='translateY(0)'">
                                            <div style="position: relative;">
                                                <img src="${eq.image}" alt="${eq.title}" style="width: 100%; height: 200px; object-fit: cover;">
                                                ${!eq.available ? '<div style="position: absolute; top: 0.5rem; right: 0.5rem;" class="badge badge-warning">Unavailable</div>' : ''}
                                            </div>
                                            <div class="p-4">
                                                <span class="badge badge-secondary mb-2">${eq.category}</span>
                                                <h3 style="margin-bottom: 0.5rem; font-size: 1rem;">${eq.title}</h3>
                                                <p class="text-muted text-sm mb-3 line-clamp-2">
                                                    ${eq.description}
                                                </p>
                                                
                                                <div class="flex items-center gap-2 mb-3">
                                                    <img src="${eq.owner.avatar}" alt="${eq.owner.name}" class="avatar" style="width: 24px; height: 24px;">
                                                    <span class="text-sm">${eq.owner.name}</span>
                                                    ${eq.owner.verified ? `<span class="text-sm">${icon('shield', 12)}</span>` : ''}
                                                </div>
                                                
                                                <div class="flex justify-between items-center">
                                                    <div>
                                                        <div style="font-size: 1.25rem; font-weight: 600;">${formatCurrency(eq.pricePerDay)}</div>
                                                        <div class="text-xs text-muted">per day</div>
                                                    </div>
                                                    <div class="flex items-center gap-1">
                                                        ${icon('star', 16)}
                                                        <span class="text-sm" style="font-weight: 500;">${eq.rating}</span>
                                                        <span class="text-xs text-muted">(${eq.reviewCount})</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            ` : `
                                <div class="text-center p-12 card">
                                    <div style="font-size: 4rem; margin-bottom: 1rem;">🔍zzz...</div>
                                    <h3 class="mb-2">No equipment found</h3>
                                    <p class="text-muted">Try adjusting your search or filters</p>
                                </div>
                            `}
                        </div>
                    </div>

                    ${renderFooter()}
                </div>
            `;
        }

        function renderMessagesView() {
            if (appState.selectedConversation) {
                const conv = appState.selectedConversation;
                const messages = conv.messages || [];
                
                return `
                    <div style="display: flex; flex-direction: column; height: 100%;">
                        <div class="sticky-header p-4 flex items-center gap-3">
                            <button onclick="appState.selectedConversation = null; renderApp();" class="btn btn-ghost btn-icon">
                                ${icon('arrow-left', 20)}
                            </button>
                            <img src="${conv.otherUser.avatar}" alt="${conv.otherUser.name}" class="avatar">
                            <div style="flex: 1;">
                                <div style="font-weight: 500;">${conv.otherUser.name}</div>
                                <div class="text-sm text-muted">${conv.otherUser.neighborhood}</div>
                            </div>
                        </div>

                        ${conv.equipment ? `
                            <div style="padding: 0.75rem 1rem; background: var(--secondary); border-bottom: 1px solid var(--border);">
                                <div class="flex items-center gap-2">
                                    <div class="text-sm text-muted">About:</div>
                                    <div class="text-sm" style="font-weight: 500;">${conv.equipment.title}</div>
                                    <div class="text-sm text-muted">•</div>
                                    <div class="text-sm">${formatCurrency(conv.equipment.pricePerDay)}/day</div>
                                </div>
                            </div>
                        ` : ''}

                        <div class="scroll-container" style="flex: 1; padding: 1rem; overflow-y: auto;">
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                ${messages.map((msg, index) => {
                                    const isCurrentUser = msg.senderId === 'user-1';
                                    return `
                                        <div style="display: flex; gap: 0.75rem; ${isCurrentUser ? 'justify-content: flex-end;' : ''}">
                                            ${!isCurrentUser ? `<img src="${conv.otherUser.avatar}" alt="${conv.otherUser.name}" class="avatar" style="width: 32px; height: 32px;">` : ''}
                                            <div style="${isCurrentUser ? 'text-align: right;' : ''}">
                                                <div style="background: ${isCurrentUser ? 'var(--primary)' : 'var(--muted)'}; 
                                                           color: ${isCurrentUser ? 'white' : 'inherit'}; 
                                                           padding: 0.75rem; 
                                                           border-radius: var(--radius); 
                                                           max-width: 80%; 
                                                           display: inline-block;">
                                                    <p class="text-sm">${msg.text}</p>
                                                </div>
                                                <span class="text-xs text-muted" style="display: block; margin-top: 0.25rem;">
                                                    ${formatTime(msg.timestamp)}
                                                </span>
                                            </div>
                                        </div>
                                    `;
                                }).join('')}
                            </div>
                        </div>

                        <div class="p-4" style="border-top: 1px solid var(--border);">
                            <div class="flex gap-2">
                                <input type="text" 
                                       id="messageInput" 
                                       class="input" 
                                       placeholder="Type a message..." 
                                       style="flex: 1;" 
                                       onkeydown="if(event.key==='Enter') sendMessage();">
                                <button onclick="sendMessage()" class="btn btn-primary btn-icon">
                                    ${icon('send', 20)}
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }

            return `
                <div style="height: 100%;">
                    <div class="p-6" style="border-bottom: 1px solid var(--border);">
                        <h2>Messages</h2>
                        <p class="text-muted text-sm">Chat with equipment owners and renters</p>
                    </div>

                    <div class="scroll-container" style="height: calc(100% - 120px); overflow-y: auto;">
                        ${mockConversations.length > 0 ? mockConversations.map(conv => `
                            <div style="padding: 1rem; border-bottom: 1px solid var(--border); cursor: pointer; transition: background 0.2s;" 
                                 onclick='appState.selectedConversation = ${JSON.stringify(conv).replace(/'/g, "\\'")}; renderApp();'
                                 onmouseover="this.style.background='var(--muted)'" 
                                 onmouseout="this.style.background='transparent'">
                                <div class="flex gap-3">
                                    <img src="${conv.otherUser.avatar}" alt="${conv.otherUser.name}" class="avatar" style="width: 48px; height: 48px;">
                                    <div style="flex: 1; min-width: 0;">
                                        <div class="flex justify-between mb-1">
                                            <span style="font-weight: 500;">${conv.otherUser.name}</span>
                                            ${conv.unreadCount > 0 ? `<span class="badge badge-primary">${conv.unreadCount}</span>` : ''}
                                        </div>
                                        <p class="text-sm text-muted" style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                                            ${conv.lastMessage.text}
                                        </p>
                                        <span class="text-xs text-muted">
                                            ${formatDate(conv.lastMessage.timestamp)}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        `).join('') : `
                            <div class="text-center p-12">
                                <div style="font-size: 4rem; margin-bottom: 1rem;">💬</div>
                                <h3 class="mb-2">No messages yet</h3>
                                <p class="text-muted">Start a conversation by contacting an equipment owner</p>
                            </div>
                        `}
                    </div>
                </div>
            `;
        }

        function renderProfileView() {
            const myListings = [mockEquipment[0], mockEquipment[5]];
            
            return `
                <div class="scroll-container" style="flex: 1; overflow-y: auto;">
                    <div class="p-6" style="background: white; border-bottom: 1px solid var(--border);">
                        <div class="container">
                            <div class="flex items-start gap-4 mb-6">
                                <img src="${appState.currentUser.avatar}" 
                                     alt="${appState.currentUser.name}" 
                                     class="c:"c:\Users\PCB\Downloads/566530082_792819060293839_9146587510031156197_n.jpg" 
                                     style="width: 80px; height: 80px;">
                                <div style="flex: 1;">
                                    <h2 class="mb-2">${appState.currentUser.name}</h2>
                                    <div class="flex items-center gap-2 mb-2">
                                        ${appState.currentUser.idVerified ? `
                                            <span class="badge badge-red flex items-center gap-1">
                                                ${icon('shield', 12)} ID Verified
                                            </span>
                                        ` : ''}
                                        <span class="badge badge-secondary">${appState.userRole === 'renter' ? 'Renter' : 'Lender'}</span>
                                    </div>
                                    ${appState.currentUser.reviewCount > 0 ? `
                                        <div class="flex items-center gap-2 mb-2">
                                            <span class="flex items-center gap-1">
                                                ${icon('star', 16)} ${appState.currentUser.rating}
                                            </span>
                                            <span class="text-sm text-muted">(${appState.currentUser.reviewCount} reviews)</span>
                                        </div>
                                    ` : ''}
                                    <div class="text-sm text-muted flex items-center gap-1">
                                        ${icon('map-pin', 14)} ${appState.currentUser.neighborhood}
                                    </div>
                                    <div class="text-sm text-muted mt-1">
                                        Joined ${formatDate(appState.currentUser.joinDate)}
                                    </div>
                                </div>
                            </div>

                            <div class="grid grid-cols-3 gap-4 p-4 rounded" style="background: var(--secondary);">
                                <div class="text-center">
                                    <div style="font-size: 1.5rem; font-weight: 600; margin-bottom: 0.25rem;">2</div>
                                    <div class="text-sm text-muted">Listings</div>
                                </div>
                                <div class="text-center">
                                    <div style="font-size: 1.5rem; font-weight: 600; margin-bottom: 0.25rem;">5</div>
                                    <div class="text-sm text-muted">Rentals</div>
                                </div>
                                <div class="text-center">
                                    <div style="font-size: 1.5rem; font-weight: 600; margin-bottom: 0.25rem;">${appState.currentUser.rating || 'New'}</div>
                                    <div class="text-sm text-muted">Rating</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="p-6">
                        <div class="container">
                            <div class="flex justify-between items-center mb-6">
                                <h3>My Listings</h3>
                                <button class="btn btn-primary" onclick="showAddListingDialog()">
                                    ${icon('plus', 18)} Add Listing
                                </button>
                            </div>

                            <div class="grid gap-4 mb-6">
                                ${myListings.map(eq => `
                                    <div class="card">
                                        <div class="flex gap-4 p-4">
                                            <img src="${eq.image}" 
                                                 alt="${eq.title}" 
                                                 style="width: 100px; height: 100px; object-fit: cover; border-radius: var(--radius);">
                                            <div style="flex: 1;">
                                                <h4 class="mb-2">${eq.title}</h4>
                                                <p class="text-sm text-muted mb-2">${formatCurrency(eq.pricePerDay)}/day</p>
                                                <div class="flex gap-2">
                                                    <span class="badge ${eq.available ? 'badge-success' : 'badge-warning'}">
                                                        ${eq.available ? 'Available' : 'Rented'}
                                                    </span>
                                                    <span class="badge badge-outline">${eq.reviewCount} reviews</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>

                            <div class="mb-6">
                                <h3 class="mb-4">Account Settings</h3>
                                <div class="grid gap-2">
                                    <button class="btn btn-ghost" style="justify-content: flex-start; width: 100%;" onclick="showToast('Edit Profile feature coming soon!')">
                                        ${icon('user', 18)} Edit Profile
                                    </button>
                                    <button class="btn btn-ghost" style="justify-content: flex-start; width: 100%;" <li><button onclick="openPage('id_verify')" style="background: none; border-box; color: #9ca3af; cursor: pointer; padding: 0; text-align: left; transition: color 0.2s;" onmouseover="this.style.color='black'" onmouseout="this.style.color='#9ca3af'">ID Verification</button></li>
                                        ${icon('shield', 18)} <div>
                                            </div> 
                            
                                    </button>
                                    <button class="btn btn-ghost" style="justify-content: flex-start; width: 100%;" onclick="showToast('Switch to ${appState.userRole === 'renter' ? 'Lender' : 'Renter'} mode!')">
                                        ${icon('user', 18)} Switch to ${appState.userRole === 'renter' ? 'Lender' : 'Renter'} Mode
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    ${renderFooter()}
                </div>
            `;
        }

        function renderFooter() {
            return `
                <footer style="background: #1a1a1a; color: #9ca3af; padding: 3rem 1rem 1.5rem;">
                    <div class="container">
                        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
                            <div>
                                <div class="flex items-center gap-2 mb-4">
                                    <img src="c:/Users/PCB/Downloads/==.jpg" 
                                         alt="RentMate" class="avatar">
                                    <h3 style="color: white;">RentMate</h3>
                                </div>
                                <p class="text-sm mb-4" style="line-height: 1.6;">
                                    Your trusted peer-to-peer equipment rental platform in Bulacan. 
                                    Share resources, save money, and build community.
                                </p>
                                <div class="flex gap-3">
                                    <a href="https://www.facebook.com/profile.php?id=61582698359797" 
                                       target="_blank" 
                                       rel="noopener noreferrer" 
                                       style="width: 40px; height: 40px; border-radius: 50%; background: #2d2d2d; display: flex; align-items: center; justify-content: center; transition: background 0.2s; color: inherit; text-decoration: none;"
                                       onmouseover="this.style.background='#1877f2'" 
                                       onmouseout="this.style.background='#2d2d2d'">
                                        ${icon('facebook', 20)}
                                    </a>
                                    <a href="https://www.instagram.com/mak0.19?igsh=ajExdjd4eGM1OTNj" 
                                       target="_blank" 
                                       rel="noopener noreferrer"
                                       style="width: 40px; height: 40px; border-radius: 50%; background: #2d2d2d; display: flex; align-items: center; justify-content: center; transition: background 0.2s; color: inherit; text-decoration: none;"
                                       onmouseover="this.style.background='#e4405f'" 
                                       onmouseout="this.style.background='#2d2d2d'">
                                        ${icon('instagram', 20)}
                                    </a>
                                    <a href="https://x.com/JhomarAlva75873" 
                                       target="_blank" 
                                       rel="noopener noreferrer"
                                       style="width: 40px; height: 40px; border-radius: 50%; background: #2d2d2d; display: flex; align-items: center; justify-content: center; transition: background 0.2s; color: inherit; text-decoration: none;"
                                       onmouseover="this.style.background='#1da1f2'" 
                                       onmouseout="this.style.background='#2d2d2d'">
                                        ${icon('twitter', 20)}
                                    </a>
                                </div>
                            </div>

                            <div>
                                <h3 style="color: white; margin-bottom: 1rem;">About</h3>
                                <ul style="list-style: none; padding: 0; display: flex; flex-direction: column; gap: 0.75rem; font-size: 0.875rem;">
                                    <li><button onclick="openPage('about')" style="background: none; border: none; color: #9ca3af; cursor: pointer; padding: 0; text-align: left; transition: color 0.2s;" onmouseover="this.style.color='white'" onmouseout="this.style.color='#9ca3af'">About Us</button></li>
                                    <li><button onclick="openPage('about')" style="background: none; border: none; color: #9ca3af; cursor: pointer; padding: 0; text-align: left; transition: color 0.2s;" onmouseover="this.style.color='white'" onmouseout="this.style.color='#9ca3af'">Our Mission</button></li>
                                    <li><button onclick="openPage('teams')" style="background: none; border: none; color: #9ca3af; cursor: pointer; padding: 0; text-align: left; transition: color 0.2s;" onmouseover="this.style.color='white'" onmouseout="this.style.color='#9ca3af'">Our Teams</button></li>
                                    <li><button onclick="openPage('careers')" style="background: none; border: none; color: #9ca3af; cursor: pointer; padding: 0; text-align: left; transition: color 0.2s;" onmouseover="this.style.color='white'" onmouseout="this.style.color='#9ca3af'">Careers</button></li>
                                </ul>
                            </div>

                            <div>
                                <h3 style="color: white; margin-bottom: 1rem;">Support</h3>
                                <ul style="list-style: none; padding: 0; display: flex; flex-direction: column; gap: 0.75rem; font-size: 0.875rem;">
                                    <li><button onclick="openPage('faq')" style="background: none; border: none; color: #9ca3af; cursor: pointer; padding: 0; text-align: left; transition: color 0.2s;" onmouseover="this.style.color='white'" onmouseout="this.style.color='#9ca3af'">Help Center</button></li>
                                    <li><button onclick="openPage('contact')" style="background: none; border: none; color: #9ca3af; cursor: pointer; padding: 0; text-align: left; transition: color 0.2s;" onmouseover="this.style.color='white'" onmouseout="this.style.color='#9ca3af'">Contact Us</button></li>
                                    <li><button onclick="openPage('Safety Tips')" style="background: none; border: none; color: #9ca3af; cursor: pointer; padding: 0; text-align: left; transition: color 0.2s;" onmouseover="this.style.color='white'" onmouseout="this.style.color='#9ca3af'">Safety Tips</button></li>
                                    <li><button onclick="openPage('faq')" style="background: none; border: none; color: #9ca3af; cursor: pointer; padding: 0; text-align: left; transition: color 0.2s;" onmouseover="this.style.color='white'" onmouseout="this.style.color='#9ca3af'">FAQ</button></li>
                                </ul>
                            </div>

                            <div>
                                <h3 style="color: white; margin-bottom: 1rem;">Legal</h3>
                                <ul style="list-style: none; padding: 0; display: flex; flex-direction: column; gap: 0.75rem; font-size: 0.875rem;">
                                    <li><button onclick="openPage('terms')" style="background: none; border: none; color: #9ca3af; cursor: pointer; padding: 0; text-align: left; transition: color 0.2s;" onmouseover="this.style.color='white'" onmouseout="this.style.color='#9ca3af'">Terms of Service</button></li>
                                    <li><button onclick="openPage('privacy')" style="background: none; border: none; color: #9ca3af; cursor: pointer; padding: 0; text-align: left; transition: color 0.2s;" onmouseover="this.style.color='white'" onmouseout="this.style.color='#9ca3af'">Privacy Policy</button></li>
                                    <li><button onclick="openPage('guidelines')" style="background: none; border: none; color: #9ca3af; cursor: pointer; padding: 0; text-align: left; transition: color 0.2s;" onmouseover="this.style.color='white'" onmouseout="this.style.color='#9ca3af'">Community Guidelines</button></li>
                                    <li><button onclick="openPage('trust')" style="background: none; border: none; color: #9ca3af; cursor: pointer; padding: 0; text-align: left; transition: color 0.2s;" onmouseover="this.style.color='white'" onmouseout="this.style.color='#9ca3af'">Trust & Safety</button></li>
                                </ul>
                            </div>
                        </div>

                        <div style="border-top: 1px solid #2d2d2d; padding-top: 1.5rem; margin-bottom: 1.5rem;">
                            <div class="grid md:grid-cols-3 gap-4 text-sm">
                                <div class="flex items-center gap-2">
                                    ${icon('mail', 16)} 
                                    <a href="mailto:rentmate@gmail.ph.com" style="color: inherit; text-decoration: none;" onmouseover="this.style.color='white'" onmouseout="this.style.color='#9ca3af'">support@rentmate.ph</a>
                                </div>
                                <div class="flex items-center gap-2">
                                    ${icon('phone', 16)} 
                                    <a href="tel:+639068788298" style="color: inherit; text-decoration: none;" onmouseover="this.style.color='white'" onmouseout="this.style.color='#9ca3af'">+63 912 345 6789</a>
                                </div>
                                <div class="flex items-center gap-2">
                                    ${icon('map-pin', 16)} Bulacan, Philippines
                                </div>
                            </div>
                        </div>

                        <div style="border-top: 1px solid #2d2d2d; padding-top: 1.5rem; text-align: center; font-size: 0.875rem;">
                            <p>&copy; 2025 RentMate. All rights reserved. Made with ❤️ in Bulacan, Philippines</p>
                        </div>
                    </div>
                </footer>
            `;
        }

        function renderBottomNav() {
            if (!appState.isAuthenticated || !appState.userRole) return '';
            
            return `
                <div style="border-top: 1px solid var(--border); background: white;">
                    <div class="flex" style="justify-content: space-around;">
                        <button onclick="appState.currentView = 'browse'; renderApp();" 
                                class="btn ${appState.currentView === 'browse' ? 'btn-primary' : 'btn-ghost'}"
                                style="flex-direction: column; height: auto; padding: 0.75rem; gap: 0.25rem; flex: 1; border-radius: 0;">
                            ${icon('home', 22)}
                            <span class="text-xs">Browse</span>
                        </button>
                        <button onclick="appState.currentView = 'messages'; renderApp();" 
                                class="btn ${appState.currentView === 'messages' ? 'btn-primary' : 'btn-ghost'}"
                                style="flex-direction: column; height: auto; padding: 0.75rem; gap: 0.25rem; flex: 1; border-radius: 0; position: relative;">
                            ${icon('message', 22)}
                            <span class="text-xs">Messages</span>
                            ${mockConversations.reduce((sum, conv) => sum + conv.unreadCount, 0) > 0 ? `
                                <span style="position: absolute; top: 0.5rem; right: 1rem; width: 18px; height: 18px; border-radius: 50%; background: #ef4444; color: black; font-size: 0.625rem; display: flex; align-items: center; justify-content: center;">
                                    ${mockConversations.reduce((sum, conv) => sum + conv.unreadCount, 0)}
                                </span>
                            ` : ''}
                        </button>
                        <button onclick="appState.currentView = 'profile'; renderApp();" 
                                class="btn ${appState.currentView === 'profile' ? 'btn-primary' : 'btn-ghost'}"
                                style="flex-direction: column; height: auto; padding: 0.75rem; gap: 0.25rem; flex: 1; border-radius: 0;">
                            ${icon('user', 22)}
                            <span class="text-xs">Profile</span>
                        </button>
                    </div>
                </div>
            `;
        }

        // ============================================
        // DIALOG/MODAL FUNCTIONS
        // ============================================
        
        function openEquipmentDetail(equipmentId) {
            const equipment = mockEquipment.find(eq => eq.id === equipmentId);
            if (!equipment) return;
            
            const reviews = mockReviews.filter(r => r.equipmentId === equipmentId);
            
            const overlay = document.createElement('div');
            overlay.className = 'overlay active';
            overlay.onclick = closeEquipmentDetail;
            
            const sheet = document.createElement('div');
            sheet.className = 'sheet active';
            sheet.onclick = (e) => e.stopPropagation();
            sheet.innerHTML = `
                <div class="sticky-header p-4">
                    <button onclick="closeEquipmentDetail()" class="btn btn-ghost btn-icon">
                        ${icon('x', 24)}
                    </button>
                </div>
                
                <div class="scroll-container">
                    <img src="${equipment.image}" alt="${equipment.title}" style="width: 100%; height: 300px; object-fit: cover;">
                    
                    <div class="p-6">
                        <div class="mb-6">
                            <span class="badge badge-secondary mb-3">${equipment.category}</span>
                            <h2 class="mb-3">${equipment.title}</h2>
                            <div class="flex items-center gap-2 mb-4">
                                ${icon('star', 18)}
                                <span style="font-weight: 500; font-size: 1.125rem;">${equipment.rating}</span>
                                <span class="text-muted">(${equipment.reviewCount} reviews)</span>
                            </div>
                        </div>

                        <div class="mb-6 p-4 rounded" style="background: var(--secondary);">
                            <div class="flex justify-between mb-2">
                                <span class="text-muted">Price per day:</span>
                                <span style="font-weight: 500;">${formatCurrency(equipment.pricePerDay)}</span>
                            </div>
                            <div class="flex justify-between mb-2">
                                <span class="text-muted">Number of days:</span>
                                <span id="numDays" style="font-weight: 500;">-</span>
                            </div>
                            <div style="border-top: 1px solid var(--border); padding-top: 0.75rem; margin-top: 0.75rem;" class="flex justify-between">
                                <span style="font-weight: 600; font-size: 1.125rem;">Total:</span>
                                <span id="totalPrice" style="font-weight: 600; font-size: 1.125rem;">${formatCurrency(0)}</span>
                            </div>
                        </div>

                        <div class="mb-6">
                            <h3 class="mb-3">Description</h3>
                            <p class="text-muted" style="line-height: 1.8;">${equipment.description}</p>
                        </div>

                        <div class="mb-6">
                            <h3 class="mb-3">Owner</h3>
                            <div class="flex items-center gap-3 p-4 rounded" style="background: var(--secondary);">
                                <img src="${equipment.owner.avatar}" alt="${equipment.owner.name}" class="avatar" style="width: 56px; height: 56px;">
                                <div style="flex: 1;">
                                    <div class="flex items-center gap-2 mb-1">
                                        <span style="font-weight: 500; font-size: 1.125rem;">${equipment.owner.name}</span>
                                        ${equipment.owner.verified ? `${icon('shield', 16)}` : ''}
                                    </div>
                                    <div class="text-sm text-muted mb-1 flex items-center gap-1">
                                        ${icon('map-pin', 14)} ${equipment.owner.neighborhood}
                                    </div>
                                    <div class="text-sm flex items-center gap-1">
                                        ${icon('star', 14)}
                                        <span>${equipment.owner.rating}</span>
                                        <span class="text-muted">(${equipment.owner.reviewCount} reviews)</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        ${equipment.available ? `
                            <div class="mb-6">
                                <h3 class="mb-3">Available Dates</h3>
                                <div style="display: flex; flex-wrap: gap: 0.5rem;">
                                    ${equipment.availableDates.map(date => `
                                        <span class="badge badge-outline" style="padding: 0.5rem 1rem;">
                                            ${icon('calendar', 14)} ${formatDate(date)}
                                        </span>
                                    `).join('')}
                                </div>
                            </div>
                        ` : `
                            <div class="mb-6 p-4 rounded" style="background: #fef2f2; border: 1px solid #fecaca; color: #991b1b;">
                                <strong>Currently Unavailable</strong>
                                <p class="text-sm mt-1">This equipment is currently rented out. Contact the owner for future availability.</p>
                            </div>
                        `}

                        ${reviews.length > 0 ? `
                            <div class="mb-6">
                                <h3 class="mb-3">Reviews (${reviews.length})</h3>
                                <div class="grid gap-4">
                                    ${reviews.map(review => `
                                        <div class="p-4 rounded" style="background: var(--secondary);">
                                            <div class="flex items-start gap-3 mb-2">
                                                <img src="${review.reviewerAvatar}" alt="${review.reviewerName}" class="avatar" style="width: 40px; height: 40px;">
                                                <div style="flex: 1;">
                                                    <div class="flex items-center justify-between mb-1">
                                                        <span style="font-weight: 500;">${review.reviewerName}</span>
                                                        <div class="flex items-center gap-1">
                                                            ${icon('star', 14)}
                                                            <span class="text-sm">${review.rating}</span>
                                                        </div>
                                                    </div>
                                                    <p class="text-sm text-muted mb-2">${review.comment}</p>
                                                    <div class="flex items-center justify-between text-xs text-muted">
                                                        <span>${formatDate(review.date)}</span>
                                                        <button class="flex items-center gap-1" onclick="showToast('Thanks for the feedback!')" style="background: none; border: none; color: inherit; cursor: pointer;">
                                                            ${icon('thumbs-up', 12)} Helpful (${review.helpful})
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        ` : ''}

                        <div class="grid gap-3 mb-6">
                            <button onclick="openBookingDialog('${equipment.id}')" 
                                    class="btn btn-primary w-full" 
                                    ${!equipment.available ? 'disabled' : ''}>
                                ${icon('calendar', 20)} ${equipment.available ? 'Book Now' : 'Not Available'}
                            </button>
                            <button onclick="closeEquipmentDetail(); appState.currentView = 'messages'; renderApp(); showToast('Message sent to ${equipment.owner.name}!');" 
                                    class="btn btn-secondary w-full">
                                ${icon('message', 20)} Message Owner
                            </button>
                        </div>

                        ${equipment.rentalPolicy ? `
                            <div>
                                <h3 class="mb-3">Rental Policy</h3>
                                <div class="p-4 rounded text-sm" style="background: var(--secondary); line-height: 1.8;">
                                    ${equipment.rentalPolicy.split('. ').map(line => line.trim() ? `<p class="mb-2">• ${line}${line.endsWith('.') ? '' : '.'}</p>` : '').join('')}
                                </div>
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;
            
            document.body.appendChild(overlay);
            document.body.appendChild(sheet);
        }

        function closeEquipmentDetail() {
            document.querySelectorAll('.overlay, .sheet').forEach(el => el.remove());
        }

        function openBookingDialog(equipmentId) {
            const equipment = mockEquipment.find(eq => eq.id === equipmentId);
            if (!equipment) return;
            
            closeEquipmentDetail();
            
            const overlay = document.createElement('div');
            overlay.className = 'overlay active';
            overlay.onclick = closeBookingDialog;
            
            const dialog = document.createElement('div');
            dialog.className = 'dialog active';
            dialog.onclick = (e) => e.stopPropagation();
            dialog.innerHTML = `
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h2>Book ${equipment.title}</h2>
                        <button onclick="closeBookingDialog()" class="btn btn-ghost btn-icon">
                            ${icon('x', 20)}
                        </button>
                    </div>

                    <form onsubmit="event.preventDefault(); submitBooking('${equipment.id}');">
                        <div class="mb-4">
                            <label class="mb-2" style="display: block; font-weight: 500;">Start Date</label>
                            <input type="date" 
                                   id="startDate" 
                                   class="input" 
                                   required 
                                   min="${new Date().toISOString().split('T')[0]}"
                                   onchange="calculateBookingPrice()">
                        </div>

                        <div class="mb-6">
                            <label class="mb-2" style="display: block; font-weight: 500;">End Date</label>
                            <input type="date" 
                                   id="endDate" 
                                   class="input" 
                                   required 
                                   min="${new Date().toISOString().split('T')[0]}"
                                   onchange="calculateBookingPrice()">
                        </div>

                        <div class="mb-6 p-4 rounded" style="background: var(--secondary);">
                            <div class="flex justify-between mb-2">
                                <span class="text-muted">Price per day:</span>
                                <span style="font-weight: 500;">${formatCurrency(equipment.pricePerDay)}</span>
                            </div>
                            <div class="flex justify-between mb-2">
                                <span class="text-muted">Number of days:</span>
                                <span id="numDays" style="font-weight: 500;">-</span>
                            </div>
                            <div style="border-top: 1px solid var(--border); padding-top: 0.75rem; margin-top: 0.75rem;" class="flex justify-between">
                                <span style="font-weight: 600; font-size: 1.125rem;">Total:</span>
                                <span id="totalPrice" style="font-weight: 600; font-size: 1.125rem;">${formatCurrency(0)}</span>
                            </div>
                        </div>

                        <div class="mb-6">
                            <label class="flex items-start gap-3" style="cursor: pointer;">
                                <input type="checkbox" required style="margin-top: 0.25rem; width: 18px; height: 18px; cursor: pointer;">
                                <span class="text-sm text-muted">
                                    I agree to the rental terms and conditions. I understand that I'm responsible for any damage to the equipment during the rental period. A security deposit may be required.
                                </span>
                            </label>
                        </div>

                        <button type="submit" class="btn btn-primary w-full">
                            ${icon('check', 20)} Confirm Booking
                        </button>
                    </form>
                </div>
            `;
            
            document.body.appendChild(overlay);
            document.body.appendChild(dialog);

            // Store equipment price for calculation
            window.currentBookingPrice = equipment.pricePerDay;
        }

        function calculateBookingPrice() {
            const startInput = document.getElementById('startDate');
            const endInput = document.getElementById('endDate');
            const numDaysEl = document.getElementById('numDays');
            const totalPriceEl = document.getElementById('totalPrice');
            
            if (startInput && endInput && numDaysEl && totalPriceEl) {
                const start = new Date(startInput.value);
                const end = new Date(endInput.value);
                
                if (start && end && end >= start) {
                    const days = Math.ceil((end - start) / (1000 * 60 * 60 * 24)) + 1;
                    const total = days * (window.currentBookingPrice || 0);
                    numDaysEl.textContent = days;
                    totalPriceEl.textContent = formatCurrency(total);
                } else {
                    numDaysEl.textContent = '-';
                    totalPriceEl.textContent = formatCurrency(0);
                }
            }
        }

        function closeBookingDialog() {
            document.querySelectorAll('.overlay, .dialog').forEach(el => el.remove());
        }

        function submitBooking(equipmentId) {
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;
            
            if (!startDate || !endDate) {
                showToast('Please select booking dates');
                return;
            }
            
            closeBookingDialog();
            showToast('🎉 Booking request sent! The owner will confirm shortly.');
        }

        function showAddListingDialog() {
            const overlay = document.createElement('div');
            overlay.className = 'overlay active';
            overlay.onclick = closeAddListingDialog;
            
            const dialog = document.createElement('div');
            dialog.className = 'dialog active';
            dialog.onclick = (e) => e.stopPropagation();
            dialog.innerHTML = `
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h2>Add New Listing</h2>
                        <button onclick="closeAddListingDialog()" class="btn btn-ghost btn-icon">
                            ${icon('x', 20)}
                        </button>
                    </div>

                    <form onsubmit="event.preventDefault(); submitListing();">
                        <div class="mb-4">
                            <label class="mb-2" style="display: block; font-weight: 500;">Equipment Title</label>
                            <input type="text" 
                                   class="input" 
                                   placeholder="e.g., Canon EOS R5 Camera" 
                                   required>
                        </div>

                        <div class="mb-4">
                            <label class="mb-2" style="display: block; font-weight: 500;">Category</label>
                            <select class="input select" required>
                                <option value="">Select category</option>
                                <option value="Cameras">Cameras</option>
                                <option value="Tools">Tools</option>
                                <option value="Sports Gear">Sports Gear</option>
                            </select>
                        </div>

                        <div class="mb-4">
                            <label class="mb-2" style="display: block; font-weight: 500;">Description</label>
                            <textarea class="textarea" 
                                      rows="4" 
                                      placeholder="Describe your equipment, its condition, and what's included..." 
                                      required></textarea>
                        </div>

                        <div class="mb-4">
                            <label class="mb-2" style="display: block; font-weight: 500;">Price per day (₱)</label>
                            <input type="number" 
                                   class="input" 
                                   placeholder="100" 
                                   min="1" 
                                   required>
                        </div>

                        <div class="mb-6">
                            <label class="mb-2" style="display: block; font-weight: 500;">Image URL</label>
                            <input type="url" 
                                   class="input" 
                                   placeholder="https://example.com/image.jpg" 
                                   required>
                            <p class="text-xs text-muted mt-1">Provide a link to an image of your equipment</p>
                        </div>

                        <div class="grid gap-2">
                            <button type="submit" class="btn btn-primary w-full">
                                ${icon('plus', 20)} Add Listing
                            </button>
                            <button type="button" onclick="closeAddListingDialog()" class="btn btn-ghost w-full">
                                Cancel
                            </button>
                        </div>
                    </form>
                </div>
            `;
            
            document.body.appendChild(overlay);
            document.body.appendChild(dialog);
        }

        function closeAddListingDialog() {
            document.querySelectorAll('.overlay, .dialog').forEach(el => el.remove());
        }

        function submitListing() {
            closeAddListingDialog();
            showToast('🎉 Listing added successfully! It will be reviewed and published shortly.');
        }

        // ============================================
        // PAGE FUNCTIONS (About, Contact, FAQ)
        // ============================================
        
        function openPage(pageName) {
            const pageOverlay = document.createElement('div');
            pageOverlay.className = 'overlay active';
            pageOverlay.onclick = closePage;
            
            const pageDialog = document.createElement('div');
            pageDialog.className = 'page-dialog active';
            pageDialog.onclick = (e) => e.stopPropagation();
            
            let content = '';
            
            switch(pageName) {
                case 'about':
                    content = `
                        <div class="sticky-header p-4 flex items-center gap-3">
                            <button onclick="closePage()" class="btn btn-ghost btn-icon">
                                ${icon('arrow-left', 20)}
                            </button>
                            <h2>About RentMate</h2>
                        </div>
                        <div class="p-6 scroll-container" style="height: calc(100vh - 80px); overflow-y: auto;">
                            <div class="container" style="max-width: 800px;">
                                <div class="text-center mb-6">
                                    <img src="c:/Users/PCB/Download/==.jpg" 
                                         alt="RentMate" 
                                         style="width: 100px; height: 100px; margin: 0 auto 1rem; border-radius: 50%;">
                                    <h1 class="mb-2">About RentMate</h1>
                                    <p class="text-muted">Building a sharing economy in Bulacan</p>
                                </div>

                                <div class="mb-6">
                                    <h3 class="mb-3">Our Mission</h3>
                                    <p class="text-muted mb-4" style="line-height: 1.8;">
                                        RentMate was created to make equipment rental easy, affordable, and accessible to everyone in Bulacan. 
                                        We believe that sharing resources strengthens communities and reduces waste.
                                    </p>
                                    <p class="text-muted" style="line-height: 1.8;">
                                        Whether you're a homeowner who needs tools for a weekend project, a photographer looking for specialized equipment, 
                                        or someone with items sitting idle that could help others – RentMate connects you.
                                    </p>
                                </div>

                                <div class="mb-6">
                                    <h3 class="mb-3">Why Choose RentMate?</h3>
                                    <div class="grid gap-4">
                                        <div class="p-4 rounded" style="background: var(--secondary);">
                                            <h4 class="mb-2">💰 Save Money</h4>
                                            <p class="text-muted text-sm">Rent equipment only when you need it instead of buying expensive tools that sit unused.</p>
                                        </div>
                                        <div class="p-4 rounded" style="background: var(--secondary);">
                                            <h4 class="mb-2">🤝 Build Community</h4>
                                            <p class="text-muted text-sm">Connect with neighbors and support your local community through sharing.</p>
                                        </div>
                                        <div class="p-4 rounded" style="background: var(--secondary);">
                                            <h4 class="mb-2">🌱 Reduce Waste</h4>
                                            <p class="text-muted text-sm">Maximize the use of existing equipment and reduce environmental impact.</p>
                                        </div>
                                        <div class="p-4 rounded" style="background: var(--secondary);">
                                            <h4 class="mb-2">✅ Verified Users</h4>
                                            <p class="text-muted text-sm">Our ID verification system ensures safe and trustworthy transactions.</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-6">
                                    <h3 class="mb-3">Our Values</h3>
                                    <ul class="text-muted" style="line-height: 2; padding-left: 1.5rem;">
                                        <li><strong>Trust:</strong> We verify all users to create a safe marketplace</li>
                                        <li><strong>Community:</strong> We strengthen local connections through sharing</li>
                                        <li><strong>Sustainability:</strong> We promote responsible resource use</li>
                                        <li><strong>Accessibility:</strong> We make equipment rental simple and affordable</li>
                                    </ul>
                                </div>

                                <div class="p-6 rounded text-center" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                                    <h3 class="mb-2" style="color: white;">Join the RentMate Community</h3>
                                    <p class="mb-4" style="opacity: 0.95;">Start renting or lending equipment today</p>
                                    <button onclick="closePage()" class="btn btn-primary" style="background: white; color: var(--primary);">
                                        Get Started
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                    break;
                    
                
    case 'id_verify':
    content = `
        <div class="sticky-header p-4 flex items-center gap-3">
            <button onclick="closePage()" class="btn btn-ghost btn-icon">
                ${icon('arrow-left', 20)}
            </button>
            <h2>ID Verification</h2>
        </div>
        <div class="p-6 scroll-container" style="height: calc(100vh - 80px); overflow-y: auto;">
            <div class="container" style="max-width: 800px;">
                <div class="mb-6">
                    <h3 class="mb-2">Secure Your Account</h3>
                    <p class="text-muted">ID Verification builds trust and increases your visibility on RentMate.</p>
                </div>

                <div id="id-verification-status-display">
                    
                    <div id="verification-step-upload" class="grid gap-4 p-6 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2 flex items-center gap-2">${icon('upload-cloud', 20)} Upload Your Valid ID</h4>
                        <p class="text-sm text-muted">Please upload a clear image of one government-issued ID (e.g., Driver's License, Passport, SSS/UMID). Your data is kept private.</p>
                        
                        <div class="form-control">
                            <label for="id-file-input" class="label">Choose a file (PNG or JPG)</label>
                            <input type="file" id="id-file-input" accept="image/png, image/jpeg" class="file-input file-input-bordered w-full">
                        </div>
                        
                         <button class="btn btn-ghost" style="justify-content: flex-start; width: 100%;"<li><button onclick="openPage('verification')" style="background: none; border:-box; color: green; cursor: <center> pointer; padding: 0; text-align: center; transition: color 0.2s;" onmouseover="this.style.color='black'" onmouseout="this.style.color='#9ca3af'">Submit For Review</button></li>
                        
                        <p class="text-xs text-error text-center mt-2">Uploading ID is permanent and cannot be undone.</p>
                    </div>
                    
                    <div id="verification-step-processing" class="hidden text-center p-6 rounded" style="background: var(--secondary);">
                        <div class="text-info mb-4">
                            <div class="loading-spinner mx-auto" style="width: 40px; height: 40px; border: 4px solid var(--primary); border-top: 4px solid transparent; border-radius: 50%; animation: spin 1s linear infinite;"></div>
                        </div>
                        <h4 class="mb-2">Processing Submission...</h4>
                        <p class="text-sm text-muted">Please wait while we securely upload and process your ID image. This usually takes just a few seconds.</p>
                    </div>

                    <div id="verification-step-pending" class="hidden text-center p-6 rounded" style="background: var(--secondary);">
                        <div class="text-warning mb-4">
                            ${icon('clock', 40)}
                        </div>
                        <h4 class="mb-2">Picture Sent Successfully!</h4>
                        <p class="text-sm text-muted">Thank you for submitting your ID. Your document is now securely queued for review. **Verification usually takes 24-48 hours.** You will receive a notification when the status is updated.</p>
                        <div class="mt-4">
                            <button class="btn btn-ghost btn-sm" onclick="showToast('Your status is still pending review.')">
                                Check Status
                            </button>
                        </div>
                    </div>

                    <div id="verification-step-verified" class="hidden text-center p-6 rounded border-4 border-success" style="background: var(--secondary);">
                        <div class="text-success mb-4">
                            ${icon('award', 40)}
                        </div>
                        <h4 class="mb-2">Account Verified!</h4>
                        <p class="text-sm text-muted">Congratulations! You are now a RentMate Verified user. Your badge will appear on all your listings and profile.</p>
                        <div class="mt-4">
                            <button class="btn btn-primary" onclick="closePage()">
                                ${icon('home', 20)} Go to Home
                            </button>
                        </div>
                    </div>

                    <div id="verification-step-rejected" class="hidden text-center p-6 rounded border-4 border-error" style="background: var(--secondary);">
                        <div class="text-error mb-4">
                            ${icon('alert-octagon', 40)}
                        </div>
                        <h4 class="mb-2">Verification Failed</h4>
                        <p class="text-sm text-muted">Your submission was rejected. Common reasons include blurry images or expired IDs. Please try again with a clear, valid document.</p>
                        <div class="mt-4">
                            <button class="btn btn-error" onclick="resetVerification()">
                                ${icon('refresh-cw', 20)} Try Again
                            </button>
                        </div>
                    </div>

                </div>

                <div class="mt-6 p-4 rounded text-center">
                    <p class="text-xs text-muted">For privacy concerns, please refer to our <a href="#" onclick="openPage('privacy')" class="link link-hover">Privacy Policy</a>.</p>
                </div>
            </div>
        </div>
    `;
    break;
    
                    case 'careers':
    content = `
        <div class="sticky-header p-4 flex items-center gap-3">
            <button onclick="closePage()" class="btn btn-ghost btn-icon">
                ${icon('arrow-left', 20)}
            </button>
            <h2>Careers</h2>
        </div>
        <div class="p-6 scroll-container" style="height: calc(100vh - 80px); overflow-y: auto;">
            <div class="container" style="max-width: 800px;">
                <div class="mb-6">
                    <h3 class="mb-2">Join the RentMate Family</h3>
                    <p class="text-muted">Help us empower local sharing. We are a startup committed to innovation, community, and growth.</p>
                </div>

                <div class="grid gap-4">
                    <div class="p-4 rounded border-l-4 border-primary" style="background: var(--secondary);">
                        <h4 class="mb-2">Full Stack Developer (Bulacan)</h4>
                        <p class="text-sm text-muted mb-2">Help build and maintain our mobile-first application using modern JavaScript frameworks.</p>
                        <p class="text-xs text-info">Full-time | On-site</p>
                    </div>

                    <div class="p-4 rounded border-l-4 border-primary" style="background: var(--secondary);">
                        <h4 class="mb-2">Community Engagement Specialist (Part-time)</h4>
                        <p class="text-sm text-muted mb-2">Work with local businesses and power users to drive listings and community activity in Bulacan.</p>
                        <p class="text-xs text-info">Part-time | Flexible</p>
                    </div>

                    <div class="p-4 rounded border-l-4 border-primary" style="background: var(--secondary);">
                        <h4 class="mb-2">Customer Support Representative</h4>
                        <p class="text-sm text-muted mb-2">Be the first point of contact for user issues, focusing on rapid and friendly dispute resolution.</p>
                        <p class="text-xs text-info">Full-time | Remote (within Bulacan)</p>
                    </div>
                </div>

                <div class="mt-6 p-6 rounded text-center" style="background: var(--secondary);">
                    <h3 class="mb-2">Don't see your role?</h3>
                    <p class="text-muted mb-4">Send us your CV and a brief description of how you can contribute to RentMate.</p>
                    <button onclick="closePage(); openPage('contact');" class="btn btn-primary">
                        ${icon('mail', 20)} Submit CV
                    </button>
                </div>
            </div>
        </div>
    `;
    break;
                    case 'teams':
    content = `
        <div class="sticky-header p-4 flex items-center gap-3">
            <button onclick="closePage()" class="btn btn-ghost btn-icon">
                ${icon('arrow-left', 20)}
            </button>
            <h2>Our Teams</h2>
        </div>
        <div class="p-6 scroll-container" style="height: calc(100vh - 80px); overflow-y: auto;">
            <div class="container" style="max-width: 800px;">
                <div class="mb-6">
                    <h3 class="mb-2">The People Behind RentMate</h3>
                    <p class="text-muted">Meet the passionate individuals dedicated to building the best local rental community in Bulacan.</p>
                </div>

                <div class="grid gap-4">
                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2 flex items-center gap-2">${icon('zap', 20)} Leadership & Vision</h4>
                        <p class="text-sm text-muted">Our core leadership team drives the strategic direction of RentMate, ensuring our platform remains focused on user trust, local growth, and innovation.</p>
                    </div>

                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2 flex items-center gap-2">${icon('code', 20)} Technology & Development</h4>
                        <p class="text-sm text-muted">This team manages the app, keeps data secure, and develops new features to make renting equipment easier, from payment integration to advanced search filters.</p>
                    </div>

                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2 flex items-center gap-2">${icon('users', 20)} Community & Support</h4>
                        <p class="text-sm text-muted">The friendly faces who handle your questions, resolve disputes, and work actively in the community to recruit new users and ensure fair practices.</p>
                    </div>

                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2 flex items-center gap-2">${icon('trending-up', 20)} Growth & Marketing</h4>
                        <p class="text-sm text-muted">Responsible for expanding RentMate's reach within Bulacan and planning our eventual expansion to new provinces based on community demand.</p>
                    </div>
                </div>

                <div class="mt-6 p-6 rounded text-center" style="background: var(--secondary);">
                    <h3 class="mb-2">Want to know more?</h3>
                    <p class="text-muted mb-4">You can find details about current openings on our Careers page.</p>
                    <button onclick="closePage(); openPage('careers');" class="btn btn-primary">
                        ${icon('briefcase', 20)} View Careers
                    </button>
                </div>
            </div>
        </div>
    `;
    break;
                    
                case 'contact':
                    content = `
                        <div class="sticky-header p-4 flex items-center gap-3">
                            <button onclick="closePage()" class="btn btn-ghost btn-icon">
                                ${icon('arrow-left', 20)}
                            </button>
                            <h2>Contact Us</h2>
                        </div>
                        <div class="p-6 scroll-container" style="height: calc(100vh - 80px); overflow-y: auto;">
                            <div class="container" style="max-width: 800px;">
                                <div class="mb-6">
                                    <h3 class="mb-3">Get in Touch</h3>
                                    <p class="text-muted mb-4">
                                        Have questions? We're here to help! Reach out to us through any of these channels:
                                    </p>
                                </div>

                                <div class="grid gap-4 mb-6">
                                    <a href="mailto:support@rentmate.ph" class="flex items-center gap-4 p-4 rounded transition" style="background: var(--secondary); text-decoration: none; color: inherit;" onmouseover="this.style.background='var(--muted)'" onmouseout="this.style.background='var(--secondary)'">
                                        <div style="width: 48px; height: 48px; border-radius: 50%; background: var(--primary); color: white; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                            ${icon('mail', 24)}
                                        </div>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 500; margin-bottom: 0.25rem;">Email</div>
                                            <div class="text-sm text-muted">support@rentmate.ph</div>
                                        </div>
                                    </a>
                                    
                                    <a href="tel:+639123456789" class="flex items-center gap-4 p-4 rounded transition" style="background: var(--secondary); text-decoration: none; color: inherit;" onmouseover="this.style.background='var(--muted)'" onmouseout="this.style.background='var(--secondary)'">
                                        <div style="width: 48px; height: 48px; border-radius: 50%; background: var(--primary); color: white; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                            ${icon('phone', 24)}
                                        </div>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 500; margin-bottom: 0.25rem;">Phone</div>
                                            <div class="text-sm text-muted">+63 912 345 6789</div>
                                        </div>
                                    </a>
                                    
                                    <a href="https://www.facebook.com/profile.php?id=61582698359797" target="_blank" rel="noopener noreferrer" class="flex items-center gap-4 p-4 rounded transition" style="background: var(--secondary); text-decoration: none; color: inherit;" onmouseover="this.style.background='var(--muted)'" onmouseout="this.style.background='var(--secondary)'">
                                        <div style="width: 48px; height: 48px; border-radius: 50%; background: #1877f2; color: white; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                            ${icon('facebook', 24)}
                                        </div>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 500; margin-bottom: 0.25rem;">Facebook</div>
                                            <div class="text-sm text-muted">Visit our Facebook page</div>
                                        </div>
                                    </a>
                                    
                                    <a href="https://www.instagram.com/mak0.19?igsh=ajExdjd4eGM1OTNj" target="_blank" rel="noopener noreferrer" class="flex items-center gap-4 p-4 rounded transition" style="background: var(--secondary); text-decoration: none; color: inherit;" onmouseover="this.style.background='var(--muted)'" onmouseout="this.style.background='var(--secondary)'">
                                        <div style="width: 48px; height: 48px; border-radius: 50%; background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%); color: white; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                            ${icon('instagram', 24)}
                                        </div>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 500; margin-bottom: 0.25rem;">Instagram</div>
                                            <div class="text-sm text-muted">@mak0.19</div>
                                        </div>
                                    </a>

                                    <div class="flex items-center gap-4 p-4 rounded" style="background: var(--secondary);">
                                        <div style="width: 48px; height: 48px; border-radius: 50%; background: var(--primary); color: white; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                            ${icon('map-pin', 24)}
                                        </div>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 500; margin-bottom: 0.25rem;">Location</div>
                                            <div class="text-sm text-muted">Bulacan, Philippines</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="p-4 rounded" style="background: #f0f9ff; border: 1px solid #bae6fd;">
                                    <div class="flex gap-3">
                                        <div style="font-size: 1.5rem;">💡</div>
                                        <div>
                                            <h4 class="mb-1" style="color: #0c4a6e;">Response Time</h4>
                                            <p class="text-sm" style="color: #0369a1;">We typically respond within 24 hours during business days. For urgent matters, please call us directly.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    break;

                    case 'Safety Tips':
					content = `
						<div class="sticky-header p-4 flex items-center gap-3">
							<button onclick="closePage()" class="btn btn-ghost btn-icon">
								${icon('arrow-left', 20)}
							</button>
							<h2>Safety Tips</h2>
						</div>
						<div class="p-6 scroll-container" style="height: calc(100vh - 80px); overflow-y: auto;">
							<div class="container" style="max-width: 800px;">
								<div class="mb-6">
									<h3 class="mb-2">Safety Tips for Renters and Lenders</h3>
									<p class="text-muted">Follow these guidelines for a safe and successful equipment rental experience on RentMate.</p>
								</div>

								<div class="grid gap-4">
                                    <div class="p-4 rounded" style="background: var(--secondary);">
										<h4 class="mb-2">For Renters: Verify Equipment Condition</h4>
										<p class="text-sm text-muted">Before finalizing the rental, **thoroughly inspect the equipment** with the owner present. Take **timestamped photos or a short video** of the item's condition, noting any existing wear or damage. This protects you from being charged for pre-existing issues.</p>
									</div>

									<div class="p-4 rounded" style="background: var(--secondary);">
										<h4 class="mb-2">For Renters: Understand Operating Instructions</h4>
										<p class="text-sm text-muted">Only rent equipment you know how to operate safely. If you're unsure, **ask the lender for a brief demonstration or guidance**. Misuse can lead to damage or injury, which you will be held responsible for.</p>
									</div>

                                    <div class="p-4 rounded" style="background: var(--secondary);">
										<h4 class="mb-2">For Lenders: Perform Safety Checks & Maintenance</h4>
										<p class="text-sm text-muted">Always ensure your equipment is in **good, working condition** and has been properly maintained before listing it. Providing safe, reliable equipment builds trust and reduces the risk of damage or accidents during the rental period.</p>
									</div>

									<div class="p-4 rounded" style="background: var(--secondary);">
										<h4 class="mb-2">For Lenders: Take Detailed Pre-Rental Photos</h4>
										<p class="text-sm text-muted">**Document the exact condition** of your item with clear, high-quality, and timestamped photos right before pickup. This evidence is crucial if you need to file a claim for damage upon return.</p>
									</div>

                                    <div class="p-4 rounded" style="background: var(--secondary);">
										<h4 class="mb-2">Use the Built-In Messaging System</h4>
										<p class="text-sm text-muted">Always conduct communication and negotiation through the **RentMate messaging platform**. This keeps a verifiable record of all agreements, pickup details, and terms, which can be reviewed if any dispute arises.</p>
									</div>

									<div class="p-4 rounded" style="background: var(--secondary);">
										<h4 class="mb-2">Meet in a Public, Well-Lit Location</h4>
										<p class="text-sm text-muted">If arranging an in-person exchange, choose a **public place or a well-known area** during the daytime. Never share unnecessary personal information like your home or work address until you are comfortable with the renter/lender.</p>
									</div>

									<div class="p-4 rounded" style="background: var(--secondary);">
										<h4 class="mb-2">Consider ID Verification for Trust</h4>
										<p class="text-sm text-muted">We strongly recommend both renters and lenders complete the **optional ID verification**. It adds an extra layer of security, boosts community trust, and makes all parties feel more secure about the transaction.</p>
									</div>

									<div class="p-4 rounded" style="background: var(--secondary);">
										<h4 class="mb-2">Set and Agree on a Security Deposit</h4>
										<p class="text-sm text-muted">Lenders, consider requiring a **security deposit** to cover potential minor damages. Renters, be aware of the deposit amount and the specific conditions under which it will be refunded or withheld, and agree on this *before* pickup.</p>
									</div>

									<div class="p-4 rounded" style="background: var(--secondary);">
										<h4 class="mb-2">Report Suspicious Activity Immediately</h4>
										<p class="text-sm text-muted">If you encounter a user who is pressuring you, asking for payment outside the agreed-upon method, or exhibiting any suspicious behavior, **stop the transaction and report them to RentMate support immediately**.</p>
									</div>

									<div class="p-4 rounded" style="background: var(--secondary);">
										<h4 class="mb-2">Document Return & Final Inspection</h4>
										<p class="text-sm text-muted">Upon return, the lender should immediately **inspect the equipment** with the renter present. Compare its condition to the pre-rental photos and formally agree that the rental is complete and satisfactory.</p>
									</div>
								</div>
							</div>
						</div>
					`
                    break;
                    case 'terms':
    content = `
        <div class="sticky-header p-4 flex items-center gap-3">
            <button onclick="closePage()" class="btn btn-ghost btn-icon">
                ${icon('arrow-left', 20)}
            </button>
            <h2>Terms of Service</h2>
        </div>
        <div class="p-6 scroll-container" style="height: calc(100vh - 80px); overflow-y: auto;">
            <div class="container" style="max-width: 800px;">
                <div class="mb-6">
                    <h3 class="mb-2">RentMate User Agreement</h3>
                    <p class="text-muted">Last Updated: October 23, 2025</p>
                </div>

                <div class="grid gap-4">
                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2">1. Acceptance of Terms</h4>
                        <p class="text-sm text-muted">By using RentMate, you agree to these Terms of Service. You must be at least 18 years old or have legal guardian consent to transact on the platform.</p>
                    </div>

                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2">2. Liability and Risk</h4>
                        <p class="text-sm text-muted">Users acknowledge that renting and lending equipment involves inherent risk. RentMate is a marketplace and is not liable for damage, loss, injury, or theft. Owners and renters assume all responsibility for their transactions.</p>
                    </div>

                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2">3. Rental Duration and Returns</h4>
                        <p class="text-sm text-muted">All equipment must be returned on the agreed-upon date and time. Late returns may incur penalties as specified by the owner's listing terms or a minimum of one extra day's rental fee.</p>
                    </div>

                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2">4. Governing Law</h4>
                        <p class="text-sm text-muted">These Terms shall be governed by the laws of the Philippines, specifically those applicable in the province of Bulacan, without regard to conflict of law provisions.</p>
                    </div>
                </div>

                <div class="mt-6 p-6 rounded text-center" style="background: var(--secondary);">
                    <h3 class="mb-2">Need a legal clarification?</h3>
                    <p class="text-muted mb-4">Contact us directly for inquiries regarding these terms.</p>
                    <button onclick="closePage(); openPage('contact');" class="btn btn-primary">
                        ${icon('mail', 20)} Contact Support
                    </button>
                </div>
            </div>
        </div>
    `;
    break;
case 'verification':
    content = `
        <div class="sticky-header p-4 flex items-center gap-3">
            <button onclick="closePage()" class="btn btn-ghost btn-icon">
                ${icon('arrow-left', 20)}
            </button>
            <h2>ID Verification Status</h2>
        </div>
        <div class="p-6 scroll-container" style="height: calc(100vh - 80px); overflow-y: auto;">
            <div class="container" style="max-width: 800px;">
                <div class="mb-6">
                    <h3 class="mb-2">Secure Your Account</h3>
                    <p class="text-muted">ID Verification builds trust and increases your visibility on RentMate.</p>
                </div>

                <div id="verification-step-pending" class="text-center p-6 rounded" style="background: var(--secondary);">
                    <div class="text-warning mb-4">
                        ${icon('clock', 40)}
                    </div>
                    <h4 class="mb-2">Picture Sent Successfully!</h4>
                    <p class="text-sm text-muted">Thank you for submitting your ID. Your document is now securely queued for review. **Verification usually takes 24-48 hours.** You will receive a notification when the status is updated.</p>
                    <div class="mt-4">
                        <button class="btn btn-primary" onclick="closePage()">
                            ${icon('home', 20)} Go to Home
                        </button>
                    </div>
                </div>

                <div class="mt-6 p-4 rounded text-center">
                    <p class="text-xs text-muted">For privacy concerns, please refer to our <a href="#" onclick="openPage('privacy')" class="link link-hover">Privacy Policy</a>.</p>
                </div>
            </div>
        </div>
    `;
    break;
case 'privacy':
    content = `
        <div class="sticky-header p-4 flex items-center gap-3">
            <button onclick="closePage()" class="btn btn-ghost btn-icon">
                ${icon('arrow-left', 20)}
            </button>
            <h2>Privacy Policy</h2>
        </div>
        <div class="p-6 scroll-container" style="height: calc(100vh - 80px); overflow-y: auto;">
            <div class="container" style="max-width: 800px;">
                <div class="mb-6">
                    <h3 class="mb-2">How RentMate Handles Your Data</h3>
                    <p class="text-muted">Last Updated: October 23, 2025</p>
                </div>

                <div class="grid gap-4">
                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2">Information We Collect</h4>
                        <p class="text-sm text-muted">We collect personal identifiers (name, email), location data (for nearby searching), transaction details, and messaging content between users.</p>
                    </div>

                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2">Use of Personal Data</h4>
                        <p class="text-sm text-muted">Your data is used to match you with local equipment, facilitate communication for rentals, process verification, and improve our services.</p>
                    </div>

                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2">Data Sharing</h4>
                        <p class="text-sm text-muted">We share necessary information (like your name and contact details) with the counterparty (owner or renter) once a booking is confirmed to enable the physical exchange. We do not sell your data.</p>
                    </div>

                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2">Your Rights</h4>
                        <p class="text-sm text-muted">You have the right to access, correct, or delete your personal data. You can manage most of your information directly through your profile settings.</p>
                    </div>
                </div>

                <div class="mt-6 p-6 rounded text-center" style="background: var(--secondary);">
                    <h3 class="mb-2">Manage Your Privacy Settings</h3>
                    <p class="text-muted mb-4">You can update your data and privacy preferences in your profile settings.</p>
                    <button onclick="closePage(); openPage('profile');" class="btn btn-primary">
                        ${icon('user', 20)} Go to Profile
                    </button>
                </div>
            </div>
        </div>
    `;
    break;

case 'guidelines':
    content = `
        <div class="sticky-header p-4 flex items-center gap-3">
            <button onclick="closePage()" class="btn btn-ghost btn-icon">
                ${icon('arrow-left', 20)}
            </button>
            <h2>Community Guidelines</h2>
        </div>
        <div class="p-6 scroll-container" style="height: calc(100vh - 80px); overflow-y: auto;">
            <div class="container" style="max-width: 800px;">
                <div class="mb-6">
                    <h3 class="mb-2">Pillars of the RentMate Community</h3>
                    <p class="text-muted">Rules for a safe, respectful, and productive experience on RentMate.</p>
                </div>

                <div class="grid gap-4">
                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2">Respect and Communication</h4>
                        <p class="text-sm text-muted">Always maintain a respectful tone in communications. Respond promptly to booking requests and messages. Clear, honest communication is key to a successful rental.</p>
                    </div>

                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2">Accurate Listings and Condition</h4>
                        <p class="text-sm text-muted">Owners must accurately describe their equipment, including any faults or wear. Renters must report any damage immediately upon return.</p>
                    </div>

                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2">Non-Discrimination</h4>
                        <p class="text-sm text-muted">Our community is built on inclusion. Users are prohibited from refusing a rental, listing, or communicating in a way that discriminates based on race, gender, religion, or any other protected characteristic.</p>
                    </div>

                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2">Review Integrity</h4>
                        <p class="text-sm text-muted">Reviews must be truthful and reflect the actual experience. Any attempt to manipulate reviews, including exchanging favors for positive feedback, is strictly prohibited.</p>
                    </div>
                </div>

                <div class="mt-6 p-6 rounded text-center" style="background: var(--secondary);">
                    <h3 class="mb-2">Report a Violation</h3>
                    <p class="text-muted mb-4">Help us keep the community safe. Report any user or listing that violates these guidelines.</p>
                    <button onclick="closePage(); openPage('contact');" class="btn btn-primary">
                        ${icon('alert-triangle', 20)} Submit Report
                    </button>
                </div>
            </div>
        </div>
    `;
    break;

case 'trust':
    content = `
        <div class="sticky-header p-4 flex items-center gap-3">
            <button onclick="closePage()" class="btn btn-ghost btn-icon">
                ${icon('arrow-left', 20)}
            </button>
            <h2>Trust & Safety</h2>
        </div>
        <div class="p-6 scroll-container" style="height: calc(100vh - 80px); overflow-y: auto;">
            <div class="container" style="max-width: 800px;">
                <div class="mb-6">
                    <h3 class="mb-2">Safety Measures on RentMate</h3>
                    <p class="text-muted">Our commitment to ensuring a secure platform for all users and equipment.</p>
                </div>

                <div class="grid gap-4">
                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2">Verification and Badges</h4>
                        <p class="text-sm text-muted">We encourage users to complete optional ID and phone verification. Verified users receive a badge, which significantly increases trust and the likelihood of successful rentals.</p>
                    </div>

                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2">Inspection and Documentation</h4>
                        <p class="text-sm text-muted">Renters and owners should thoroughly inspect the equipment together at pickup and drop-off. We strongly recommend taking timestamped photos or videos to document the condition of the item before and after the rental.</p>
                    </div>

                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2">Security Deposit Policy</h4>
                        <p class="text-sm text-muted">Owners may require a security deposit to cover potential damage. This amount is negotiated and handled directly between the parties. RentMate is not responsible for the deposit or its return.</p>
                    </div>

                    <div class="p-4 rounded" style="background: var(--secondary);">
                        <h4 class="mb-2">Prohibited Use</h4>
                        <p class="text-sm text-muted">Equipment must only be used for its intended purpose and in compliance with all local laws. Using rented items for illegal, dangerous, or unauthorized activities will result in immediate and permanent removal from RentMate.</p>
                    </div>
                </div>

                <div class="mt-6 p-6 rounded text-center" style="background: var(--secondary);">
                    <h3 class="mb-2">Contact Trust & Safety</h3>
                    <p class="text-muted mb-4">For urgent safety concerns, please contact us immediately.</p>
                    <button onclick="closePage(); openPage('contact');" class="btn btn-primary">
                        ${icon('shield', 20)} Contact Trust & Safety
                    </button>
                </div>
            </div>
        </div>
         `;
                break;
            
            case 'faq':
                    content = `
                        <div class="sticky-header p-4 flex items-center gap-3">
                            <button onclick="closePage()" class="btn btn-ghost btn-icon">
                                ${icon('arrow-left', 20)}
                            </button>
                            <h2>FAQ</h2>
                        </div>
                        <div class="p-6 scroll-container" style="height: calc(100vh - 80px); overflow-y: auto;">
                            <div class="container" style="max-width: 800px;">
                                <div class="mb-6">
                                    <h3 class="mb-2">Frequently Asked Questions</h3>
                                    <p class="text-muted">Find answers to common questions about RentMate</p>
                                </div>

                                <div class="grid gap-4">
                                    <div class="p-4 rounded" style="background: var(--secondary);">
                                        <h4 class="mb-2">How do I rent equipment?</h4>
                                        <p class="text-sm text-muted">Browse available equipment, select your desired dates, and submit a booking request. The owner will confirm your request, and you can arrange pickup details through our messaging system.</p>
                                    </div>

                                    <div class="p-4 rounded" style="background: var(--secondary);">
                                        <h4 class="mb-2">How do I list my equipment?</h4>
                                        <p class="text-sm text-muted">Go to your profile, click "Add Listing," and fill in the details about your equipment including title, category, description, and daily rental price. Add clear photos to attract renters.</p>
                                    </div>

                                    <div class="p-4 rounded" style="background: var(--secondary);">
                                        <h4 class="mb-2">Is ID verification required?</h4>
                                        <p class="text-sm text-muted">ID verification helps build trust in our community. While it's not mandatory, verified users get a badge that increases booking confidence and are given priority in search results.</p>
                                    </div>

                                    <div class="p-4 rounded" style="background: var(--secondary);">
                                        <h4 class="mb-2">How does payment work?</h4>
                                        <p class="text-sm text-muted">Currently, payments are arranged directly between renters and owners. We recommend cash on pickup or verified bank transfers. Payment integration is coming soon in future updates.</p>
                                    </div>

                                    <div class="p-4 rounded" style="background: var(--secondary);">
                                        <h4 class="mb-2">What if equipment gets damaged?</h4>
                                        <p class="text-sm text-muted">Renters are responsible for equipment during the rental period. Many owners require a security deposit. We recommend taking photos before and after rentals and discussing terms clearly.</p>
                                    </div>

                                    <div class="p-4 rounded" style="background: var(--secondary);">
                                        <h4 class="mb-2">Can I cancel a booking?</h4>
                                        <p class="text-sm text-muted">Yes, but please do so as early as possible and communicate with the other party. Cancellation policies may vary by owner, so check the rental agreement before booking.</p>
                                    </div>

                                    <div class="p-4 rounded" style="background: var(--secondary);">
                                        <h4 class="mb-2">How do I contact the equipment owner?</h4>
                                        <p class="text-sm text-muted">Use our built-in messaging system to communicate safely. Click "Message Owner" on any equipment listing to start a conversation about availability, pickup, and rental terms.</p>
                                    </div>

                                    <div class="p-4 rounded" style="background: var(--secondary);">
                                        <h4 class="mb-2">Is RentMate available outside Bulacan?</h4>
                                        <p class="text-sm text-muted">Currently, RentMate is focused on serving the Bulacan community. We're planning to expand to other provinces in the future based on demand and user feedback.</p>
                                    </div>

                                    <div class="p-4 rounded" style="background: var(--secondary);">
                                        <h4 class="mb-2">How do I leave a review?</h4>
                                        <p class="text-sm text-muted">After completing a rental, you'll receive a notification to leave a review. Reviews help build trust and improve the community. Be honest and fair in your feedback.</p>
                                    </div>

                                    <div class="p-4 rounded" style="background: var(--secondary);">
                                        <h4 class="mb-2">What categories of equipment can I rent?</h4>
                                        <p class="text-sm text-muted">Currently we support three main categories: Cameras (photography equipment), Tools (power tools, lawn equipment), and Sports Gear (bikes, camping equipment). More categories coming soon!</p>
                                    </div>
                                </div>

                                <div class="mt-6 p-6 rounded text-center" style="background: var(--secondary);">
                                    <h3 class="mb-2">Still have questions?</h3>
                                    <p class="text-muted mb-4">We're here to help!</p>
                                    <button onclick="closePage(); openPage('contact');" class="btn btn-primary">
                                        ${icon('mail', 20)} Contact Support
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                    break;
            }
            
            pageDialog.innerHTML = content;
            document.body.appendChild(pageOverlay);
            document.body.appendChild(pageDialog);
        }

        function closePage() {
            document.querySelectorAll('.page-dialog, .overlay').forEach(el => {
                if (el.classList.contains('page-dialog')) {
                    el.remove();
                } else {
                    // Only remove overlay if it's for the page, not for other dialogs
                    const hasOtherDialog = document.querySelector('.dialog, .sheet');
                    if (!hasOtherDialog) {
                        el.remove();
                    }
                }
            });
        }

        // ============================================
        // HELPER FUNCTIONS
        // ============================================
        
        function sendMessage() {
            const input = document.getElementById('messageInput');
            if (input && input.value.trim()) {
                const messageText = input.value.trim();
                
                // Add message to current conversation
                if (appState.selectedConversation && appState.selectedConversation.messages) {
                    appState.selectedConversation.messages.push({
                        id: 'msg-' + Date.now(),
                        text: messageText,
                        timestamp: new Date(),
                        senderId: 'user-1'
                    });
                }
                
                showToast('Message sent!');
                input.value = '';
                renderApp();
            }
        }

        function switchAuthTab(tab) {
            const loginTab = document.getElementById('loginTab');
            const signupTab = document.getElementById('signupTab');
            const loginForm = document.getElementById('loginForm');
            const signupForm = document.getElementById('signupForm');

            if (tab === 'login') {
                loginTab.style.borderBottom = '3px solid var(--primary)';
                signupTab.style.borderBottom = 'none';
                loginForm.classList.remove('hidden');
                signupForm.classList.add('hidden');
            } else {
                signupTab.style.borderBottom = '3px solid var(--primary)';
                loginTab.style.borderBottom = 'none';
                signupForm.classList.remove('hidden');
                loginForm.classList.add('hidden');
            }
        }

        function submitLogin() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            handleLogin(email, password);
        }

        function submitSignup() {
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const neighborhood = document.getElementById('signupNeighborhood').value;
            handleSignup(name, email, password, neighborhood);
        }

        // ============================================
        // MAIN RENDER FUNCTION
        // ============================================
        
        function renderApp() {
            const app = document.getElementById('app');
            
            if (!appState.isAuthenticated) {
                app.innerHTML = renderAuthView();
                return;
            }

            if (!appState.userRole) {
                app.innerHTML = renderRoleSelection();
                return;
            }

            let content = '';
            switch (appState.currentView) {
                case 'messages':
                    content = renderMessagesView();
                    break;
                case 'profile':
                    content = renderProfileView();
                    break;
                default:
                    content = renderBrowseView();
            }

            app.innerHTML = content + renderBottomNav();
        }

        // ============================================
        // INITIALIZE APP
        // ============================================
        
        // Start the app
        renderApp();

        // Add keyboard shortcut for ESC to close dialogs
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                if (document.querySelector('.page-dialog')) {
                    closePage();
                } else if (document.querySelector('.dialog')) {
                    closeBookingDialog();
                    closeAddListingDialog();
                } else if (document.querySelector('.sheet')) {
                    closeEquipmentDetail();
                }
            }
        });
    </script>
</body>
</html>